var pianoAnalytics=function(e){"use strict";var t={site:"",collectDomain:"",path:"event",visitorStorageMode:"fixed",storageLifetimeVisitor:395,storageLifetimeUser:395,storageLifetimePrivacy:395,privacyDefaultMode:"optin",sendEventWhenOptout:!0,isVisitorClientSide:!0,enableCallbacks:!0,cookieDomain:"",cookieSecure:!0,cookiePath:"/",cookieSameSite:"lax",encodeStorageBase64:!1,addEventURL:"withoutQS",clickAutoManagement:!0,enableUTMTracking:!0,campaignPrefix:["at_"],storageVisitor:"pa_vid",storageUser:"pa_user",version:"6.10.0",minHeartbeat:5,minBufferingHeartbeat:1,queueVarName:"_paq",allowHighEntropyClientHints:!0,sendEmptyProperties:!0,privacy:{storageKey:"pa_privacy",legacyKeys:{pa_vid:!0,pa_privacy:!0,atuserid:!0},storageKeys:{pa_user:!0},modes:{optin:{name:"optin",properties:{include:{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{"*":!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},optout:{name:"optout",visitorId:"OPT-OUT",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"optout"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},"no-consent":{name:"no-consent",visitorId:"no-consent",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-consent"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},"no-storage":{name:"no-storage",visitorId:"no-storage",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-storage"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},exempt:{name:"exempt",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},allowed:{"*":{app_crash:!0,app_crash_class:!0,app_crash_screen:!0,app_version:!0,browser:!0,browser_cookie_acceptance:!0,browser_group:!0,browser_version:!0,click:!0,click_chapter1:!0,click_chapter2:!0,click_chapter3:!0,click_full_name:!0,connection_monitor:!0,connection_organisation:!0,date:!0,date_day:!0,date_daynumber:!0,date_month:!0,date_monthnumber:!0,date_week:!0,date_year:!0,date_yearofweek:!0,device_brand:!0,device_display_height:!0,device_display_width:!0,device_name:!0,device_name_tech:!0,device_screen_diagonal:!0,device_screen_height:!0,device_screen_width:!0,device_type:!0,event_collection_platform:!0,event_collection_version:!0,event_hour:!0,event_id:!0,event_minute:!0,event_position:!0,event_second:!0,event_time:!0,event_time_utc:!0,event_url:!0,event_url_domain:!0,event_url_full:!0,exclusion_cause:!0,exclusion_type:!0,geo_city:!0,geo_continent:!0,geo_country:!0,geo_metro:!0,geo_region:!0,goal_type:!0,hit_time_utc:!0,os:!0,os_group:!0,os_version:!0,os_version_name:!0,page:!0,page_chapter1:!0,page_chapter2:!0,page_chapter3:!0,page_duration:!0,page_full_name:!0,page_position:!0,page_title_html:!0,page_url:!0,pageview_id:!0,previous_url:!0,privacy_status:!0,site:!0,site_env:!0,site_id:!0,site_platform:!0,src:!0,src_detail:!0,src_direct_access:!0,src_organic:!0,src_organic_detail:!0,src_portal_domain:!0,src_portal_site:!0,src_portal_site_id:!0,src_portal_url:!0,src_referrer_site_domain:!0,src_referrer_site_url:!0,src_referrer_url:!0,src_se:!0,src_se_category:!0,src_se_country:!0,src_type:!0,src_url:!0,src_url_domain:!0,src_webmail:!0}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0,atuserid:!0},forbidden:{}},events:{allowed:{"click.exit":!0,"click.navigation":!0,"click.download":!0,"click.action":!0,"page.display":!0},forbidden:{}}},"*":{properties:{allowed:{"*":{connection_type:!0,device_timestamp_utc:!0,visitor_privacy_consent:!0,visitor_privacy_mode:!0,"ch_ua*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{}},events:{allowed:{},forbidden:{}}}}}};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n,o,i,a,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return o=!(n=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){o=!0,i=e},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw i}}};if(Array.isArray(e)||(s=function(e,t){var n;if(e)return"string"==typeof e?r(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=function e(t,r){if("object"!==n(t)||null===t||t instanceof Date)return t;var o,i=new t.constructor;for(o in t)!Object.prototype.hasOwnProperty.call(t,o)||void 0===o||r&&void 0===t[o]||(i[o]=e(t[o]));return i},s=function(e,t){var n=!1;!(n=window.navigator&&"function"==typeof window.navigator.sendBeacon?window.navigator.sendBeacon(e,t):n)&&window.fetch&&window.fetch(e,{method:"POST",body:t,headers:{"Content-Type":"text/plain;charset=UTF-8"}})},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c={encodeURIComponent:window.encodeURIComponent,utf8:{encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):t=127<r&&r<2048?(t+=String.fromCharCode(r>>6|192))+String.fromCharCode(63&r|128):(t=(t+=String.fromCharCode(r>>12|224))+String.fromCharCode(r>>6&63|128))+String.fromCharCode(63&r|128)}return t},decode:function(e){var t,n,r,o="",i=0;for(t=0;i<e.length;)(r=e.charCodeAt(i))<128?(o+=String.fromCharCode(r),i++):191<r&&r<224?(t=e.charCodeAt(i+1),o+=String.fromCharCode((31&r)<<6|63&t),i+=2):(t=e.charCodeAt(i+1),n=e.charCodeAt(i+2),o+=String.fromCharCode((15&r)<<12|(63&t)<<6|63&n),i+=3);return o}},base64:{encode:function(e){var t,n,r,o,i,a,s="",l=0;for(e=c.utf8.encode(e);l<e.length;)r=(t=e.charCodeAt(l++))>>2,o=(3&t)<<4|(t=e.charCodeAt(l++))>>4,i=(15&t)<<2|(n=e.charCodeAt(l++))>>6,a=63&n,isNaN(t)?i=a=64:isNaN(n)&&(a=64),s=s+u.charAt(r)+u.charAt(o)+u.charAt(i)+u.charAt(a);return s},decode:function(e){var t,n,r,o,i,a,s="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)r=u.indexOf(e.charAt(l++)),t=(15&(o=u.indexOf(e.charAt(l++))))<<4|(i=u.indexOf(e.charAt(l++)))>>2,n=(3&i)<<6|(a=u.indexOf(e.charAt(l++))),s+=String.fromCharCode(r<<2|o>>4),64!=i&&(s+=String.fromCharCode(t)),64!=a&&(s+=String.fromCharCode(n));return c.utf8.decode(s)}}},l=(i=window.crypto||window.msCrypto,{v4:function(){try{if(null!==i&&"object"===n(i))return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^i.getRandomValues(new Uint32Array(1))[0]&15>>e/4).toString(16)}))}catch(e){console.error(e)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}});function f(e){var t=e;function n(e,n){null!==n&&""!==n&&void 0!==n&&(t[e]=n)}return{setConfiguration:n,setConfigurations:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n(t,e[t])},getConfiguration:function(e){return void 0!==t[e]?a(t[e]):null},cloneData:function(){return a(t)},deleteProperty:function(e){delete t[e]}}}function d(e){var t=[];return{push:function(n){t.push(n),1===t.length&&e[n[0]].apply(e,n.slice(1))},next:function(){var n;t.shift(),0<t.length&&e[(n=t[0])[0]].apply(e,n.slice(1))}}}function p(e,t,n){this.properties=a(e._properties),this.setProperty=function(t,n,r){e._privacy.call("isPropAllowed",t)&&(this.properties[t]={value:n,options:r||{}})},this.hasProperty=function(e){return Object.prototype.hasOwnProperty.call(this.properties,e)},this.getConfiguration=n.getConfiguration,this.setConfiguration=n.setConfiguration,this.options=t.options||{},this.visitorId=null,this.build={url:"",data:{}},this.events=t.events||[]}function v(e,t,n,r){!1!==r&&0<n.length&&"function"==typeof n[0]?n[0](e,t,n.slice(1)):e._queue.next()}function g(e,t,n){var r=(o=t.getConfiguration("collectDomain")).startsWith("https://")||o.startsWith("http://")?"":"https://",o=(r="".concat(r).concat(o,"/").concat(t.getConfiguration("path")),"?s=".concat(t.getConfiguration("site")).concat(t.visitorId?"&idclient="+t.visitorId:""));t.build.url=r+o,t.build.data={events:t.events},v(e,t,n)}function h(e,t,n,r,o){var i,a=function(e,t,n){for(var r={},o=new RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),i=o.exec(t);null!==i;)0===i[1].indexOf(e)&&(r[n+i[1].substring(e.length)]=window.decodeURIComponent(i[2])),i=o.exec(t);return r}(r,n,o),s=!1;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&!t.properties[i]&&t.setProperty(i,a[i],{persistent:!0}),s=!0;return s}function m(e,t,n){var r,i=document.location.href,a=o(t.getConfiguration("campaignPrefix"));try{for(a.s();!(r=a.n()).done&&!h(0,t,i,r.value,"src_"););}catch(e){a.e(e)}finally{a.f()}t.getConfiguration("enableUTMTracking")&&h(0,t,i,"utm_","utm_"),v(e,t,n)}function y(e){return 0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),w(e)}var _,b=function(e){function t(e){e&&r.setDate(r.getDate()+e)}var n,r=new Date;return e instanceof Date?r=e:"number"==typeof e?t(e):(n=e.days,e=e.minutes,t(n),e&&r.setMinutes(r.getMinutes()+e)),r},w=function(e){e=e.replace(/\+/g," ").replace(/^\s+|\s+$/g,"");try{return decodeURIComponent(e)}catch(t){return e}},C=(_="_cookie_test",{set:P,get:A,getNames:function(){var e=[];return O((function(t){e.push(t)})),e},remove:x,getTopLevelDomain:function(e){void 0===e&&(e=[]);var t=window.location.hostname.split("."),n=(new Date).getTime().toString(36)+Math.round(2147483647*Math.random()).toString(36),r=new Date;r.setSeconds(r.getSeconds()+30);for(var o=0;o<t.length;o++)try{var i=t.slice(-(o+1)).join(".");if(!e.includes(i)){P(_,n,{expires:r,path:"/",domain:i});var a=A(_)===n;if(x(_,{path:"/",domain:i}),a)return i}}catch(e){}},__private__:{_generateCookieString:k}});function k(e,t,n){var r=(n=void 0===n?{}:n).path,o=n.domain,i=n.expires,a=n.secure,s=n.samesite;return((n=n.raw)?e:encodeURIComponent(e))+"="+(n?t:encodeURIComponent(t))+(i?"; expires=".concat(b(i).toUTCString()):"")+(r?"; path=".concat(r):"")+(o?"; domain=".concat(o):"")+(a?"; secure":"")+(s?"boolean"==typeof s?"; sameSite":"; sameSite=".concat(s):"")}function P(e,t,n,r){void 0===t||void 0!==r&&encodeURI(t).split(/%(?:u[\dA-F]{2})?[\dA-F]{2}|./).length-1>r||(document.cookie=k(e,t,n))}function O(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e(w(r[0]),r[1]||""))return}}function A(e){var t=null,n={};return O((function(r,o){if(e)return r===e&&(t=y(o),1);n[r]=y(o)})),e?t:n}function x(e,t){P(e,"",Object.assign({},t,{expires:-1}))}D="_ls_ttl",I=function(){try{var e=window.localStorage.getItem(D);return e?JSON.parse(e):null}catch(e){return null}},M=function(e){try{Object.keys(e).length?window.localStorage.setItem(D,JSON.stringify(e)):window.localStorage.removeItem(D)}catch(e){}},S();var D,I,M;function S(){var e=E(),t=I(),n={};t&&(Object.keys(t).forEach((function(r){if(e.includes(r)){var o=t[r]?parseInt(t[r],36):null;if(!(o=o)||o>Date.now())n[r]=t[r];else try{window.localStorage.removeItem(r)}catch(r){}}})),JSON.stringify(t)!==JSON.stringify(n))&&M(n)}function E(){try{return Object.keys(window.localStorage)}catch(e){return[]}}function N(e,t){return{cookieName:t=void 0===t?"_pctx":t,readonly:!1,init:function(t){return null!=(t=null!=t?t:e)?t:null},refresh:function(e){return e},update:function(e){return e},set:function(e){return e},get:function(e){return e}}}function T(e){return Q(Q({},N(e)),{cookieName:null})}function j(){var e={};return{add:function(t){e[t]=!0},values:function(){return te(e)}}}function H(e,t){var n,r=NaN,o=NaN;return function(i){var a=null==t?void 0:t();return i===o&&r===a||(r=a,n=e(o=i)),n}}function L(e){var t;return function(n){var r=e();r!==t&&n(t=r)}}function U(e){return se(e,(function(e){return"CX"!==(null==e?void 0:e.type)}))}function B(e,t){return t({protect:!0}),ae()}function R(e,t){return function(n){return t(e+n)}}function V(e,t){void 0===t&&(t=be);var n=he[e.toLowerCase()];return void 0!==n?ge[n].name:(t('"'.concat(e,'" is not found')),null)}function K(e,t){var n;return void 0===t&&(t=be),e?(n={},e.products&&(ne(e.products)?n.products=e.products.reduce((function(e,n){return(n=V(n,R("consent.products: ",t)))&&e.push(n),e}),[]):t("consent.products: should be an array")),e.defaultPreset&&(n.defaultPreset=te(e.defaultPreset).reduce((function(n,r){var o=V(r,R("consent.defaultPreset: ",t)),i=we(e.defaultPreset[r]);return i||t("consent.defaultPreset: "+_e(r,me)),o&&i&&(n[o]=i),n}),{})),n):null}function Y(e){return e.reduce((function(e,t,n){return Q(Q({},e),((e={})[n]={mode:Pe[t]},e))}),{})}function q(){return De()[0].preset}function J(){return de().consent_modifiers||null}function F(){return!!de().requireConsent}function W(e){return Me().reduce((function(t,n){return t[n.id]=e[n.id]||q()[n.id],t}),{})}function z(e){var t=Number(e);return Number.isNaN(t)?String(e):t}function $(e){return ne(e)?e:e.split(",").map((function(e){return e.trim().replace(/^['"](.+)['"]$/,"$1")}))}function X(e){return e}var G,Z,Q=function(){return(Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ee=N("anon"),te=function(e){return Object.keys(e)},ne=function(e){return Array.isArray(e)},re=function(e){return null!=e},oe=function(e){return"object"===n(e)},ie=function(e){return"string"==typeof e},ae=function(){for(var e=(new Date).getTime().toString(36);e.length<16;)e+=Math.round(2147483647*Math.random()).toString(36);return e.substr(0,16)},se=function(e,t){return e&&te(e).filter((function(n){return t(e[n])})).reduce((function(t,n){return Q(Q({},t),((t={})[n]=e[n],t))}),{})},ue=function(e){return"true"===e||!0===e},ce=function e(t,n){try{return t()}catch(t){return n?e(n):null}},le=function(e,t){return void 0===t&&(t=!1),ce((function(){return JSON.parse(e)}),(function(){return t?JSON.parse(window.atob(e)):null}))||null},fe=Q(Q({},N(null)),{init:function(e){return U(e||null)},refresh:U,set:function(e,t){return null===e?null:se(Q(Q({},t),e),(function(e){return null!==e}))}}),de=function(){return window.pdl||{}},pe=Q(Q({},T()),{init:function(e,t){return t({protect:!0}),de().pageViewId||ae()},refresh:B,update:B,set:function(e,t,n){return n({protect:!0}),e}}),ve=Q(Q({},N(null,"_pcid")),{init:function(e,t){return t({protect:!0}),e||ae()},update:function(e,t){return t({protect:!0}),ae()},set:function(e,t,n){return n({protect:!0}),e}}),ge=["PA","DMP","COMPOSER","ID","VX","ESP","Social Flow","DL"].map((function(e,t){return{name:e,id:t}})),he=ge.reduce((function(e,t,n){return t=t.name,Q(Q({},e),((e={})[t]=n,e[t.toLowerCase()]=n,e))}),{}),me=["opt-in","opt-out","essential"],ye=["include","exclude","obfuscate"],_e=function(e,t){return'"'.concat(e,'" should be one of ').concat(t.join(", "))},be=function(){},we=function(e){return me.includes(e)?e:null},Ce=function(e,t){void 0===t&&(t=be);var n=e.source;e=e.patches||[];return we(n)||(t(_e("source",me)),n="opt-in"),ne(e)||(t('"patches" should be an array'),e=[]),{source:n,patches:e=e.reduce((function(e,n,r){var o,i;return!oe(n)||ne(n)?t("patch[".concat(r,"]: should be type of {action, item, with?}")):(o=n.action,i=n.item,ye.includes(o)?i&&oe(i)&&i.key&&i.type?e.push(n):t("patch[".concat(r,']: "item" should be type of {key, type}')):t("patch[".concat(r,"]: ")+_e("action",ye))),e}),[])}},ke=H(K),Pe=["opt-in","essential","opt-out"].reduce((function(e,t,n){return Q(Q({},e),((e={})[n]=t,e))}),{}),Oe=[[0,0,0,0,0,0,0,0],[0,0,2,2,2,2,2,0],[1,2,2,2,2,2,2,1],[0,2,0,2,2,2,0,0],[1,2,2,2,2,2,1,1],[2,0,0,2,2,2,2,0],[2,0,2,2,2,2,2,0],[2,2,2,2,2,2,0,2],[2,2,0,0,0,0,2,0],[2,2,1,2,1,2,2,1],[2,2,1,1,2,2,2,1]],Ae=Oe.map((function(e,t){return{id:t,preset:Y(e)}})),xe=L((function(){var e;return null==(e=ke(de().consent))?void 0:e.defaultPreset})),De=(G=Ae,function(){return xe((function(e){G=Ae.slice(),e&&(G[0]={id:0,preset:Q({},G[0].preset)},te(e).forEach((function(t){var n=e[t];t=he[t];G[0].preset[t]={mode:n}})))})),G}),Ie=L((function(){var e;return null==(e=ke(de().consent))?void 0:e.products})),Me=(Z=ge,function(){return Ie((function(e){Z=e?ge.filter((function(t){return e.includes(t.name)||"DL"===t.name})):ge})),Z}),Se=Q(Q({},N(null,"_pprv")),{init:function(e){return F()&&e?W(Q(Q({},q()),e)):null},set:function(e,t){var n,r,o;return F()?null!=e&&(n="number"==typeof e?(null==(n=De()[e])?void 0:n.preset)||null:ne(e)?(o=null,e.forEach((function(e){var t=Oe[e];!o&&t?o=t:o&&t&&(o=o.map((function(e,n){return void 0===t[n]?e:Math.min(e,t[n])})))})),o&&Y(o)):te(r=e).reduce((function(e,t){var n=r[t],o=Number(t);return Number.isNaN(o)&&void 0===(o=he[t.toLowerCase()])||(t=n.mode,!["opt-in","essential","opt-out","custom"].includes(t))?e:Q(Q({},e),((t={})[o]={mode:n.mode},t))}),null))?W(Q(Q({},t),n)):t:null},get:H((function(e){return e&&te(e).reduce((function(t,n){var r,o=ge[Number(n)].name;return"custom"===(n=Q({},e[Number(n)])).mode&&(n.modifier=(null==(r=J())?void 0:r[o])||null),t[o]=n,t}),{})}),J)}),Ee=Q(Q({},T()),{init:De,set:De}),Ne=Q(Q({},T()),{init:Me,set:Me}),Te=Q(Q({},T(null)),{readonly:!0,set:function(){return null},get:J}),je={id:X,type:X,zone:X,createdAt:z,modifiedAt:z,authors:$,section:X,tags:$,keywords:$,title:X,description:X,isNative:ue},He=function(e){return"last"===e};function Le(e,t){return void 0===e&&(e="meta"),function(e){return"first"===e}(t)?document.querySelector(e):(e=document.querySelectorAll(e),He(t)?e[e.length-1]:Array.from(e))}function Ue(e){var t=e.getContent||function(e){return e.content};if(e.selector)return(o=Le(e.selector,e.take||"first"))&&t(o)||null;var r=Ke.find(e.attr||["name"],e.hasContent),o=e.names||[],i=!("all"===e.take),a=He(e.take);if(r)for(var s=0,u=o;s<u.length;s++){var c=function(e){var n,o=[];if(e=r[e]){if(i)return n=e[a?e.length-1:0],{value:t(n)||""};e.forEach((function(e){o=o.concat(t(e)||"")}))}if(o.length)return{value:o}}(u[s]);if("object"===n(c))return c.value}return null}function Be(e){var t=e.replace(/DAY/g,"(0?[1-9]|[12][0-9]|3[01])").replace(/MONTHLONG/g,"("+te(Fe).join("|")+")").replace(/MONTH/g,"(0?[1-9]|1[012])").replace(/YEAR2/g,"([0-9][0-9])").replace(/YEAR/g,"(197[1-9]|19[8-9][0-9]|20[0-9][0-9])").replace(/TIME/g,"([0-9][0-9]):([0-9][0-9]):([0-9][0-9])(?:\\.[0-9][0-9][0-9])?([zZ]|[+-][0-9][0-9](?::?[0-9][0-9])?)?");e=e.replace(/.*?([YMD])(EAR|ONTH|AY).*?/g,"$1").substring(0,3);return[new RegExp(t),e]}function Re(e){return e&&parseInt(e,10)||0}Ve=null;var Ve,Ke={refresh:function(){(Ve=Le()||null)&&setTimeout((function(){Ve=null}),0)},find:function(e,t){return void 0===t&&(t=!1),Ve?Ve.reduce((function(n,r){for(var o=0,i=e;o<i.length;o++){var a=(("name"===(a=i[o])?r.name:r.getAttribute(a))||"").trim().toLowerCase(),s=r.content;if(a&&(!t||s)){n[a]||(n[a]=[]),n[a].push(r);break}}return n}),{}):null}},Ye=function(e){for(var t=0,n=e;t<n.length;t++){var r;if(r=Ue(r=n[t]))return r}},qe=function(e,t,n){var r,o=je[t];!Boolean(e[t])&&o&&(o=(r=("function"==typeof n?n:function(){return(ne(n)?Ye:Ue)(n)})())&&o(r))&&(e[t]=o)},Je=function(e){return{names:[e]}},Fe={januar:"01",january:"01",jan:"01",februar:"02",february:"02",feb:"02",mars:"03",march:"03",mar:"03",april:"04",apr:"04",mai:"05",may:"05",juni:"06",june:"06",jun:"06",juli:"07",july:"07",jul:"07",august:"08",aug:"08",september:"09",sept:"09",sep:"09",oktober:"10",october:"10",okt:"10",oct:"10",november:"11",nov:"11",desember:"12",december:"12",dec:"12",des:"12"},We=["\\bDAY\\.MONTH\\.YEAR\\b","\\bDAY\\.?\\s{0,3}MONTHLONG\\.?\\s{1,3}YEAR\\b","\\bYEAR-MONTH-DAY(?:[tT]|\\b)","\\bMONTHLONG\\.?\\s{0,3}DAY(?:st|nd|rd|th)?,?\\s{1,3}YEAR\\b","\\bDAY(?:st|nd|rd|th|\\.)?\\s{0,3}MONTHLONG\\.?,?\\s{1,3}YEAR\\b","\\bYEAR[/年]MONTH[/月]DAY(?=\\b|日)","\\bDAY\\.MONTH\\.YEAR2\\b","\\bDAY/MONTH/YEAR\\b"].map(Be),ze=Be("YEAR-MONTH-DAY[tT]TIME")[0];function $e(e,t,n,r,o,i,a){return e=new Date(Date.UTC(Re(e),Re(t)-1,Re(n),Re(r),Re(o),Re(i))),(t=(a||"").match(/^([+-][0-9][0-9])(?::?([0-9][0-9])?)$/))&&(e=new Date(e.getTime()-36e5*Number(t[1])-6e4*(Number(t[2])||0))),0<(n=Date.now()-e.getTime())||-n<1728e5?e.toISOString():null}var Xe=function(e){return e.replace(/<\/?[^>?]*\/?>/g," ").replace(/\s+/g," ").trim()};function Ge(e){return Xe((e=void 0===e?"":e).replace(/,(?=\s*(jr|sr)(\.?)\b)/g," "))}function Ze(e){return Q(Q({},e),{take:"last"})}function Qe(e){return Q(Q({},e),{take:"last",hasContent:!0,getContent:function(e){return Xe(e.content||"")}})}function et(e){return e.getTime().toString(36)}function tt(e){return e?ce((function(){return new Date(parseInt(e,36))})):null}function nt(e,t,n){return void 0===n&&(n=!1),{cookieName:e,consent:t=void 0===t?"optional":t,encode:function(e){return function(e,t){void 0===t&&(t=!1);var n=JSON.stringify(e);return ce((function(){return t?window.btoa(n):n}))||n}(e,n)},decode:function(e){return le(e,!0)}}}var rt,ot=[Ze({attr:["name","property","itemprop"],names:["cxenseparse:publishtime","cxenseparse:recs:publishtime","article:published_time","date","dc.date","dc.date.created","dc.terms.issued","pub_date","article.published","datepublished","og:article:published_time"]}),Ze({selector:"time.published[datetime],time[pubdate][datetime]",getContent:function(e){return e.getAttribute("datetime")}}),Ze({selector:"time[datetime]",getContent:function(e){return e.getAttribute("datetime")}})],it={selector:'meta[property="article:modified_time"]'},at=[{attr:["property","name"],names:["cxenseparse:author","og:article:author","article:author","og:book:author","book:author","author","dc.creator","article.author"],take:"all",getContent:function(e){var t=e.getAttribute("data-separator");e=e.content;return t?Ge(e).split(t):Ge((t=void 0===(t=e)?"":t).replace(/\n+/,";").replace(/(\<|&lt;)br(\>|&gt;)/,";").replace(/\b(and|und|og)\b/g,";")).split(/[,;]/)}}],st=[Qe({names:["cxenseparse:keywords"]}),Qe({attr:["property","name"],names:["news_keywords"]}),Qe({names:["keywords"]})],ut=[Qe({names:["cxenseparse:description"]}),Qe({attr:["property"],names:["og:description"]}),Qe({names:["description"]})],ct=[{names:["cxenseparse:title"]},Ze({attr:["property","name"],names:["og:title"]})],lt=Q(Q({},T(null)),{init:function(){var e,t=Array.from(document.querySelectorAll("meta[property^=content]")).reduce((function(e,t){var n=null==(n=null==t?void 0:t.getAttribute("property"))?void 0:n.split(":").pop(),r=je[n];return r&&t&&(e[n]=r((null==t?void 0:t.getAttribute("content"))||"")),e}),{});return Ke.refresh(),qe(e=t,"type",function(e){return{attr:["property"],names:[e]}}("og:type")),qe(e,"section",Je("section")),qe(e,"id",Je("id")),qe(e,"authors",Je("author")),function(e){qe(e,"createdAt",(function(){if(!(e=Ye(ot)))return null;var e,t=e.toLowerCase();if(e=(t=t.toLowerCase()).match(ze))return $e(e[1],e[2],e[3],e[4],e[5],e[6],e[7]);for(var n=0,r=We;n<r.length;n++){var o=r[n],i=t.match(o[0]);if(i)return $e(2===(i="DMY"===o[1]?["",i[3],i[2],i[1]]:"MDY"===o[1]?["",i[3],i[1],i[2]]:i)[1].length?(Re(i[1])<60?"20":"19")+i[1]:i[1],i[2].length<=2?i[2]:Fe[i[2]],i[3])}})),qe(e,"modifiedAt",it),qe(e,"authors",at),qe(e,"keywords",(function(){var e=Ye(st);return e&&e.length<=1024?e:null})),qe(e,"title",ct),qe(e,"description",ut)}(t),t},set:function(e,t){return null===e?{}:se(Q(Q({},t),e),(function(e){return null!=e}))}}),ft=Q(Q({},N(null,"_pcus")),{init:function(e){return(e=void 0===e?null:e)&&se(e,(function(e){return oe(e)&&Array.isArray(e.segments)}))}}),dt=(pe={pageViewId:pe,browserId:ve,users:fe,userStatus:ee,siteId:N(),consent:Se,consentPresets:Ee,products:Ne,consentModifiers:Te,content:lt,userSegments:ft},{path:"/",expires:395,samesite:"lax",secure:"https:"===window.location.protocol,domain:C.getTopLevelDomain(["pantheon.io","go-vip.net","go-vip.co"])}),pt=function(e,t){function n(e){return a=a||function(e){var t=new Date;if(e instanceof Date)t=e;else{if("number"!=typeof e)return null;t.setDate(t.getDate()+e)}return t}(e.expires)}var r=t.encode,o=t.decode,i=!1,a=null,s=null,u=null;return(t=null==(t=o(e||""))?void 0:t._t)&&(t=t.split("|"),a=tt(t[0]),s=tt(t[1]),i=!!a),{get fixedAt(){return i?[s,a]:null},onChange:function(e){u=e},setMode:function(e){var t=i;(i=e)!==t&&(s=a=null)!=u&&u(i)},bindOptions:function(e){return i&&(a=n(e))?Q(Q({},e),{expires:a}):e},decode:function(e){return null!=(e=o(e))&&e._t&&delete e._t,e},encode:function(e,t){return i?(a=n(t))&&(e._t=et(a)+"|"+et(s=s||new Date)):delete e._t,r(e)}}},vt=String.fromCharCode,gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",ht={};function mt(){function e(e,t,n){void 0===n&&(n=!1);var r=[];return te(t).forEach((function(o){var a=t[o],s=!i.has(o)||i.get(o)===e||n;a&&s?i.set(o,e):!a&&s?i.delete(o):r.push(o)})),0<r.length?r:null}var t=Ft(),n={},r=null,o=new Map,i=new Map,a=[];return function(s,u){var c=ae();return o.set(c,s),u&&t.register(u),n=Q(Q({},t.get()),n),{getInitCookieData:function(){return n},getCachedData:function(){return r||Xt},setProtectionData:function(t){return e(c,t)},setProtectionDataUnsafe:function(t){return e(c,t,!0)},updateData:function(e){return s={},u={},te(o=e).forEach((function(e){i.has(e)?s[e]=(null==r?void 0:r[e])||null:u[e]=o[e]})),e=r||n,c=Q(Q({},r),u),$t(c,e)||(t.set(c,e),r=c,a.forEach((function(e){return(0,e[1])(u)}))),0<te(s).length?s:null;var o,s,u,c},onUpdateData:function(e){a.push([c,e])},terminate:function(){var e;e=c,a=a.filter((function(t){return t[0]!==e})),o.delete(c)},setCookieOptions:function(){return null},setCookieEnabled:function(){return null},get registeredCookiesWrapper(){return t.wrappers}}}}function yt(e){return te(e).filter(Zt).map((function(t){return Qt(t,e[t])}))}function _t(e,t){switch(e){case"opt-in":return!0;case"essential":return"essential"===t||"mandatory"===t;case"opt-out":return"mandatory"===t;default:return!0}}function bt(e){function t(e){return ce((function(){return window.localStorage.getItem(e)}))}var n=t(e),r=ce((function(){return parseInt(le(t("_ls_ttl"))[e],36)}));return r&&r<=Date.now()?null:n}function wt(e){var t=e&&e.length;return 16===t||36===t?e:null}function Ct(e){var t,n=Q(Q({},on),function(e,t){return void 0===t&&(t=be),te(e||{}).reduce((function(n,r){var o=null==e?void 0:e[r],i=V((null==o?void 0:o.source)||"",t);return n[r]=Q(Q({},o),{source:i}),n}),{})}(null==(t=de())?void 0:t.migration));te(n).forEach((function(t){var r=e.params.get(t),o=n[t]===on[t],i=(i=null==(i=n[t])?void 0:i.source)&&(null==(i=rn[i])?void 0:i[t])||[];r&&i.length&&(i=nn(i))&&(r.readonly=!1,e.updateValues(t,i,!0),r.readonly=!o)}))}function kt(){function e(e){return function(e,t){return oe(e)?te(e).reduce((function(n,r){var o,i=e[r];return void 0!==(o=(o=t[r])&&o(i))&&(n[r]=o),n}),{}):e}(e,{path:String,domain:String,secure:ue,expires:function(e){return e instanceof Date?e:Number(e)},samesite:function(e){return ie(e)?e:ue(e)}})}var t=Q({},window.pdl);return null!=t&&t.cookies&&(t.cookies=te(t.cookies).reduce((function(n,r){return n[r]=e(t.cookies[r]),n}),{})),null!=t&&t.cookieDefault&&(t.cookieDefault=e(t.cookieDefault)),t}(rt=rt||{}).URI="URI";var Pt,Ot,At,xt,Dt,It,Mt,St,Et,Nt,Tt,jt,Ht,Lt,Ut,Bt,Rt,Vt,Kt,Yt={URI:{prefix:"{u}",compress:function(e){if(null==e)return"";var t=e,n=function(e){return gt.charAt(e)};if(null==t)return"";for(var r,o,i,a,s={},u={},c="",l=2,f=3,d=2,p=[],v=0,g=0,h=0;h<t.length;h+=1)if(i=t.charAt(h),Object.prototype.hasOwnProperty.call(s,i)||(s[i]=f++,u[i]=!0),a=c+i,Object.prototype.hasOwnProperty.call(s,a))c=a;else{if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)v<<=1,5==g?(g=0,p.push(n(v)),v=0):g++;for(o=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&o,5==g?(g=0,p.push(n(v)),v=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)v=v<<1|o,5==g?(g=0,p.push(n(v)),v=0):g++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&o,5==g?(g=0,p.push(n(v)),v=0):g++,o>>=1}0==--l&&(l=Math.pow(2,d),d++),delete u[c]}else for(o=s[c],r=0;r<d;r++)v=v<<1|1&o,5==g?(g=0,p.push(n(v)),v=0):g++,o>>=1;0==--l&&(l=Math.pow(2,d),d++),s[a]=f++,c=String(i)}if(""!==c){if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)v<<=1,5==g?(g=0,p.push(n(v)),v=0):g++;for(o=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&o,5==g?(g=0,p.push(n(v)),v=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)v=v<<1|o,5==g?(g=0,p.push(n(v)),v=0):g++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&o,5==g?(g=0,p.push(n(v)),v=0):g++,o>>=1}0==--l&&(l=Math.pow(2,d),d++),delete u[c]}else for(o=s[c],r=0;r<d;r++)v=v<<1|1&o,5==g?(g=0,p.push(n(v)),v=0):g++,o>>=1;0==--l&&(l=Math.pow(2,d),d++)}for(o=2,r=0;r<d;r++)v=v<<1|1&o,5==g?(g=0,p.push(n(v)),v=0):g++,o>>=1;for(;;){if(v<<=1,5==g){p.push(n(v));break}g++}return p.join("")},decompress:function(e){if(null==e)return"";if(""==e)return null;for(var t,n,r,o,i,a,s=(e=e.replace(/ /g,"+")).length,u=32,c=function(t){var n=gt;t=e.charAt(t);if(!ht[n]){ht[n]={};for(var r=0;r<n.length;r++)ht[n][n.charAt(r)]=r}return ht[n][t]},l=[],f=4,d=4,p=3,v="",g=[],h={val:c(0),position:u,index:1},m=0;m<3;m+=1)l[m]=m;for(n=0,o=Math.pow(2,2),i=1;i!=o;)r=h.val&h.position,h.position>>=1,0==h.position&&(h.position=u,h.val=c(h.index++)),n|=(0<r?1:0)*i,i<<=1;switch(n){case 0:for(n=0,o=Math.pow(2,8),i=1;i!=o;)r=h.val&h.position,h.position>>=1,0==h.position&&(h.position=u,h.val=c(h.index++)),n|=(0<r?1:0)*i,i<<=1;a=vt(n);break;case 1:for(n=0,o=Math.pow(2,16),i=1;i!=o;)r=h.val&h.position,h.position>>=1,0==h.position&&(h.position=u,h.val=c(h.index++)),n|=(0<r?1:0)*i,i<<=1;a=vt(n);break;case 2:return""}for(t=l[3]=a,g.push(a);;){if(s<h.index)return"";for(n=0,o=Math.pow(2,p),i=1;i!=o;)r=h.val&h.position,h.position>>=1,0==h.position&&(h.position=u,h.val=c(h.index++)),n|=(0<r?1:0)*i,i<<=1;switch(a=n){case 0:for(n=0,o=Math.pow(2,8),i=1;i!=o;)r=h.val&h.position,h.position>>=1,0==h.position&&(h.position=u,h.val=c(h.index++)),n|=(0<r?1:0)*i,i<<=1;l[d++]=vt(n),a=d-1,f--;break;case 1:for(n=0,o=Math.pow(2,16),i=1;i!=o;)r=h.val&h.position,h.position>>=1,0==h.position&&(h.position=u,h.val=c(h.index++)),n|=(0<r?1:0)*i,i<<=1;l[d++]=vt(n),a=d-1,f--;break;case 2:return g.join("")}if(0==f&&(f=Math.pow(2,p),p++),l[a])v=l[a];else{if(a!==d)return null;v=t+t.charAt(0)}g.push(v),l[d++]=t+v.charAt(0),t=v,0==--f&&(f=Math.pow(2,p),p++)}}}},qt=te(Yt).reduce((function(e,t){return e[Yt[t].prefix]=Yt[t],e}),{}),Jt=(ve={cookieName:"_pctx",consent:"mandatory",encode:function(e,t){return void 0===t&&(t=rt.URI),e=JSON.stringify(e),e=Yt[t].compress(e),Yt[t].prefix+e},decode:function(e){return e=function(e){var t=e.slice(0,3);e=e.slice(3);if(!qt[t])return null;if(!(t=qt[t].decompress(e)))return null;try{return JSON.parse(t)}catch(e){return null}}(e||""),oe(e)?e:null}},{_pprv:nt("_pprv","mandatory",!(null!=(fe=null==(fe=de().cookies)?void 0:fe._pprv)&&fe.jsonOnly)),_pcid:nt("_pcid","essential"),_pcus:nt("_pcus","optional",!0),_pctx:ve}),Ft=(ee=te(Pt=Jt).reduce((function(e,t){return e[t]=function(e){function t(e){return Q(Q({},f),se(e||{},re))}function n(e,t){var n=e&&t;!p()&&n&&v(),p()&&!n&&g(),p()&&n&&!u&&v(),a=e,c=t}var r=e.cookieName,o=e.consent,i=C.get(r),a=!!i,s=pt(i,e),u=!!s.fixedAt,c=a,l=null,f=Q({},dt),d=null,p=function(){return a&&c},v=function(e){e=t(e);var n,o=l||(d?s.encode(d,e):"");o||(n=C.get(r),o=(n=s.decode(n||""))?s.encode(n,e):""),o&&(u=!0,C.set(r,o,s.bindOptions(e)))},g=function(e){C.remove(r,t(e))};return s.onChange((function(){p()&&(u=!1,v())})),{get cookieName(){return r},get cookieEnabled(){return p()},get fixedAt(){return s.fixedAt},get consent(){return o},set:function(e,t){d=e,p()&&v(t)},get:function(){return s.decode(C.get(r)||"")},remove:g,setCookieOptions:function(e){f=t(e),p()&&v()},setCookieEnabled:function(e,t){void 0===t&&(t=null),l=e?t:null,n(e,c)},lazyActive:function(){n(a,!0)},setFixedMode:function(e){s.setMode(e)}}}(Pt[t]),e}),{}),function(){var e=null,t=null;return{register:function(n){return e=Q(Q({},n.fields),e),t=Q(Q({},n.cookieByName),t)},get wrappers(){return t},get:function(){var e={};return t&&te(t).forEach((function(n){e=Q(Q({},e),t[n].get())})),e},set:function(n,r){void 0===r&&(r=null);var o={};te(n).forEach((function(i){var a=n[i],s=null==e?void 0:e[i];s&&(o[s]||(o[s]={wrapper:null==t?void 0:t[s],data:{},update:!1}),o[s].data[i]=a,r&&(o[s].update||a===r[i])||(o[s].update=!0))})),te(o).forEach((function(e){var t=o[e],n=t.wrapper;t.update&&n.set(o[e].data)}))}}}),Wt="__pctx_connection__",zt="uvm42pas28m",$t=function(e,t){var n,r;return e===t||(e&&t?(n=te(e),r=te(t),n.length===r.length&&!n.some((function(n){return e[n]!==t[n]}))):null)},Xt={},Gt=(void 0===Ot&&(Ot=!1),function(e,t){var n=mt();try{Object.defineProperty(window,Wt,{configurable:Ot,set:function(e){var t=e();t===zt?e(n):"mrlqf5trgho"===t&&(n=mt())}})}catch(e){}return window[Wt]=function(e){return e&&(n=e),zt},n(e,t)}),Zt=function(e){return e.includes("*")},Qt=function(e,t){return[new RegExp("^"+e.replace(/\*/g,".*")+"$"),t]},en=function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o[0].test(e))return o[1]}return null},tn=function(e){function t(e){return n[e]||en(e,r)||"optional"}var n=Object.assign({},e.items),r=yt(n);return function(n,r){var o,i,a,s=de().requireConsent,u=!ne(n),c=u?[n]:n;n=(a=r||e.getConsent())?"custom"===a.mode?(o=function(e,t,n){if(!(t=t&&Ce(t,n)))return null;for(var r=[],o={},i=0,a=t.patches;i<a.length;i++){var s,u=(s=a[i]).action,c=s.with;(s=s.item).type===e&&(o[s.key]=u={action:u,data:void 0===c?null:c},Zt(s.key))&&r.push(Qt(s.key,u))}return{source:t.source,getModifier:function(e){return o[e]||en(e,r)}}}(e.type,a.modifier,e.log))?(i=o.source,c.map((function(e){var n=o.getModifier(e),r=(r=null==n?void 0:n.action,a=null==n?void 0:n.data,"obfuscate"===r?a:null),a={name:e,allowed:null!=n&&n.action?function(e){switch(e){case"include":return!0;case"exclude":return!1;case"obfuscate":return!0}}(n.action):_t(i,t(e))};return null!==r&&(a.data=r),a}))):l():c.map((function(e){return{name:e,allowed:_t(a.mode,t(e))}})):l();function l(){return c.map((function(e){return{name:e,allowed:!s}}))}return u?n[0]:n}},nn=(Se=Object.freeze({__proto__:null,createCheckConsentWrapper:tn,createMask:Qt,getByMask:en,isMask:Zt,itemsToMask:yt}),At={pa_vid:function(e){return wt(le(e||"",!0)||e)},atuserid:function(e){return wt((null==(e=le(e||"",!0))?void 0:e.val)||"")}},function(e){for(var t=0,r=e;t<r.length;t++){var o=function(e){try{var t=e.ls?bt(e.ls)||null:(n=C.get(e),At[e]&&n?At[e](n):n);if(t)return{value:t}}catch(e){}var n}(r[t]);if("object"===n(o))return o.value}return null}),rn={PA:{browserId:["pa_vid","atuserid"].concat(Ee=[{ls:"_cX_P"},"cX_P"])},DMP:{browserId:Ee}},on={browserId:{source:"DMP"}},an=(Ne="@@Data-layer/")+"update_value",sn=Ne+"refresh_value",un=function(){return{_pprv:!de().requireConsent}},cn=(Dt=function(e){(function(e){function t(t){return t||(null==(t=e.get("consent"))?void 0:t.DL)||null}function n(t){var n,r=un(),i=null==(n=e.getConnection())?void 0:n.registeredCookiesWrapper;i&&(n=te(i).map((function(e){return i[e].cookieName})),o(n,t).forEach((function(e){var t=e.name,n=e.allowed;e=e.data,n=n&&!r[t];i[t].setCookieEnabled(n,e||null)})))}var r=te(Jt).reduce((function(e,t){return e[t]=Jt[t].consent,e}),{}),o=tn({items:r,type:"cookie",getConsent:t}),i=t();e.addChangeListener("consent",(function(e){e=(null==e?void 0:e.DL)||null,(null==i?void 0:i.mode)!==(null===e?void 0:e.mode)&&n(i=e)})),n(i)})(e),Ct(e)},Te=Te=ee,St={fields:te(It=xt=pe).reduce((function(e,t){var n=It[t].cookieName;return null!==n&&(e[t]=n),e}),{}),cookieByName:Te},Et=Gt("data-layer",St),Nt=!1,Tt=new Map,jt=new Set,Ht=new Map,Lt=function(){if(Et)return Et;throw new Error("DataLayer can't be connected")},Ut=function(e){var t=Lt().registeredCookiesWrapper;t&&e(t)},Bt=function(e){Ut((function(t){e.forEach((function(e){(e=t[e])&&e.lazyActive()}))}))},Rt=function(){function e(e){return te(t).reduce((function(n,r){var o=t[r];return void 0!==o[e]&&(n[r]=o[e]),n}),{})}var t={};return{add:function(e,n){t[e]=n},call:function(){var t;t=e("protect"),0<te(t).length&&Lt().setProtectionData(t),t=e("protectUnsafe"),0<te(t).length&&Lt().setProtectionDataUnsafe(t)}}},Vt=function(e,t){return te(e).reduce((function(n,r){var o=Ht.get(r),i=e[r];return o&&(n[r]=t?t(o,i):o.get(i)),n}),{})},Kt=function(e,t,n){void 0===n&&(n=!1);var r,o=e,i=j(),a=(ie(e)&&((r={})[e]=t,o=r),Rt()),s=Rt();o=te(o).reduce((function(e,t){var n=o[t],r=Ht.get(t),u=t;return null!=r&&r.readonly||(r&&r.cookieName&&i.add(r.cookieName),r&&n!==Mt[t]&&(n===sn?(e[t]=r.refresh(Mt[t],(function(e){s.add(u,e)})),e[t]!==Mt[t]&&a.add(u,{protectUnsafe:!1})):e[t]=n===an?r.update(Mt[t],(function(e){s.add(u,e)})):r.set(n,Mt[t],(function(e){s.add(u,e)})))),e}),{});return(e=(Bt(i.values()),a.call(),Lt().updateData(o)))&&n&&(t=te(e).reduce((function(e,t){return Q(Q({},e),((e={})[t]=!1,e))}),{}),Lt().setProtectionDataUnsafe(t),Lt().updateData(o)),s.call(),e&&Vt(e)},{init:function(e){var t,n,r,o,i,a;void 0===e&&(e={}),Nt||(Et=Et||Gt("data-layer",St),t=Q(Q({},e),kt()),n=t.cookieDefault,Ut((function(e){te(e).forEach((function(r){var o,i,a=e[r].cookieName,s=null==(s=t.cookies)?void 0:s[a];a="fixed"===(null==(a=t.cookies)?void 0:a.storageMode);null!=(i=(o=e[r]).setFixedMode)&&i.call(o,a),(n||s)&&e[r].setCookieOptions(Q(Q({},n),s))}))})),Nt=!0,te(xt).forEach((function(e){var t=xt[e];Tt.set(e,new Set),Ht.set(e,t)})),r=!1,o=Lt().getInitCookieData(),i=Lt().getCachedData(),a=Rt(),e=te(xt).reduce((function(e,t){var n=t,s=xt[t];return e[t]=(null==i?void 0:i[n])||s.init(null==o?void 0:o[n],(function(e){a.add(n,e)})),null!=i&&i[n]||(r=!0),e}),{}),Mt=e,r&&Lt().updateData(e),a.call(),Lt().onUpdateData(dn),null!=Dt&&Dt(fn()))},set:function(e,t){return Kt(e,t,!1)},get:pn,update:function(e){return vn(e)},refresh:function(){var e,t;return!Lt().setProtectionData(((t={})["@@Data-layer/refresh_locked_key"]=!0,t))&&(e=[],Ht.forEach((function(t,n){return e.push(n)})),t=e.reduce((function(e,t){return e[t]=sn,e}),{}),Kt(t),!0)},protect:function(e,t){return gn(e,t)},addChangeListener:hn,removeChangeListener:function(e){jt.delete(e),Tt.forEach((function(t){return t.delete(e)}))},terminate:function(){null!=Et&&Et.terminate(),Tt.clear(),jt.clear(),Et=null,Nt=!1,Mt={}},updateMigration:function(){Nt&&Ct(fn())},get isReady(){return Nt},utils:{validateModifier:Ce,validateConsent:K,checkConsent:Se},get cookies(){return ln()},get cookieEnabled(){return ln()},setUnsafe:function(e,t){Kt(e,t,!0)},protectUnsafe:function(e,t){return gn(e,t,!0)},updateUnsafe:function(e){return vn(e,!0)},setCookieEnabled:function(e){Ut((function(t){var n=te(e);n.length?n.forEach((function(n){var r=t[n];r&&r.setCookieEnabled(e[n])})):te(t).forEach((function(n){t[n].setCookieEnabled(e)}))}))}});function ln(){var e=null;return Ut((function(t){e=te(t).reduce((function(e,n){var r=t[n].cookieEnabled,o=t[n].fixedAt||null;return e[t[n].cookieName]=r?{enabled:r,fixedAt:o}:null,e}),{})})),e}function fn(){return{params:Ht,getConnection:Lt,addChangeListener:hn,get:pn,updateValues:Kt}}function dn(e){var t=!1;te(e).forEach((function(n){var r,o=Ht.get(n);o&&(r=e[n],Mt[n]!==r)&&(Mt[n]=r,t=!0,null!=(n=Tt.get(n)))&&n.forEach((function(e){return e(o.get(r))}))})),t&&jt.forEach((function(e){return e(Vt(Mt))}))}function pn(e){var t=j(),n=ie(e),r=void 0===e?Mt:n?((r={})[e]=Mt[e],r):e.reduce((function(e,t){return Ht.has(t)&&(e[t]=Mt[t]),e}),{});return r=Vt(r,(function(e,n){return e.cookieName&&t.add(e.cookieName),e.get(n)})),Bt(t.values()),n?r[e]:r}function vn(e,t){void 0===t&&(t=!1);var n=e;return ne(e)||(n=[e]),Kt(n.reduce((function(e,t){return e[t]=an,e}),{}),void 0,t)}function gn(e,t,n){n=(n=void 0!==n&&n)?Lt().setProtectionDataUnsafe:Lt().setProtectionData;var r,o=e;return ie(e)&&((r={})[e]=t,o=r),n(o)}function hn(e,t){var n;ie(e)?null!=(n=Tt.get(e))&&n.add(t):jt.add(e)}function mn(e,t,n){t.setProperty("event_collection_platform","js"),t.setProperty("event_collection_version",t.getConfiguration("version"));var r,i=new Date,a=(t.setProperty("device_timestamp_utc",i.getTime()),t.setProperty("device_local_hour",i.getTime()),t.setProperty("device_hour",i.getHours()),cn.get("content"));for(r in a)if(Object.prototype.hasOwnProperty.call(a,r)){var s,u="createdAt"===r||"tags"===r?{createdAt:"content_publication_date",tags:"tags_array"}[r]:"content_".concat(r).replace(/[\w]([A-Z])/g,(function(e){return e[0]+"_"+e[1]})).toLowerCase(),c=o(t.events);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=!1;if(t.hasProperty(u)){var d=t.properties[u].options.events;if(d)if(-1<d.indexOf(l.name))f=!0;else{var p,g=o(d);try{for(g.s();!(p=g.n()).done;){var h=p.value;if("*"===h.charAt(h.length-1)&&0===l.name.indexOf(h.substring(0,h.length-1))){f=!0;break}}}catch(r){g.e(r)}finally{g.f()}}else f=!0}var m=void 0!==l.data[u];f||m||e._privacy.call("isPropAllowed",u)&&(l.data[u]=a[r])}}catch(r){c.e(r)}finally{c.f()}}t.setProperty("has_access",cn.get("userStatus")),t.setProperty("pageview_id",cn.get("pageViewId")),t.setProperty("device_screen_width",window.screen.width),t.setProperty("device_screen_height",window.screen.height),t.setProperty("device_display_width",window.innerWidth||document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:""),t.setProperty("device_display_height",window.innerHeight||document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:"");var y;i=function(e,t){var n,r=o(["-","_"]);try{for(r.s();!(n=r.n()).done;){var i,a=n.value;if(-1<e.indexOf(a))return[(i=e.split(a))[0],i.slice(1).join(a)]}}catch(e){r.e(e)}finally{r.f()}return["",""]}(window.navigator?window.navigator.language||window.navigator.userLanguage:"");!(i=(t.setProperty("browser_language",i[0]),t.setProperty("browser_language_local",i[1]),t.setProperty("previous_url",document.referrer||""),document.title&&t.setProperty("page_title_html",document.title),"true"===t.getConfiguration("addEventURL").toString()))&&"withoutQS"!==t.getConfiguration("addEventURL")||t.setProperty("event_url_full",i?window.location.href.split("#")[0]:"".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname));try{e.getConfiguration("allowHighEntropyClientHints")?window.navigator.userAgentData.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then((function(e){_n(t,e)})).finally((function(){v(e,t,n)})):(y={brands:window.navigator.userAgentData.brands,platform:window.navigator.userAgentData.platform,mobile:window.navigator.userAgentData.mobile},_n(t,y),v(e,t,n))}catch(r){v(e,t,n)}}function yn(e){return void 0!==e}function _n(e,t){var n=[{metric:"brands",property:"ch_ua"},{metric:"architecture",property:"ch_ua_arch"},{metric:"bitness",property:"ch_ua_bitness"},{metric:"fullVersionList",property:"ch_ua_full_version_list"},{metric:"mobile",property:"ch_ua_mobile"},{metric:"model",property:"ch_ua_model"},{metric:"platform",property:"ch_ua_platform"},{metric:"platformVersion",property:"ch_ua_platform_version"},{metric:"uaFullVersion",property:"ch_ua_full_version"}];if(yn(t))for(var r=0;r<n.length;r++)yn(t[n[r].metric])&&e.setProperty(n[r].property,t[n[r].metric])}function bn(e,t,n){function r(r){v(e,t,n,r)}t.options&&t.options.onBeforeBuild?t.options.onBeforeBuild(e,t,r):r()}function wn(e,t,n){function r(r){v(e,t,n,r)}t.options&&t.options.onBeforeSend?t.options.onBeforeSend(e,t,r):r()}function Cn(e,t,n){e._privacy.call("filterEvents",t.events),e._privacy.call("filterProps",t.properties);for(var r=t.events,o=0;o<r.length;o++){e._privacy.call("filterProps",r[o].data,r[o].name);var i,a=e._privacy.call("getModeMetadata")||{};for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.setProperty(i,a[i])}v(e,t,n)}function kn(e,t,n){var r,i=[];for(r in t.properties)if(Object.prototype.hasOwnProperty.call(t.properties,r)){var a,s=!1,u=o(t.events);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=!1,f=t.properties[r].options.events;if(f)if(-1<f.indexOf(c.name))l=!0;else{var d,p=o(f);try{for(p.s();!(d=p.n()).done;){var g=d.value;if("*"===g.charAt(g.length-1)&&0===c.name.indexOf(g.substring(0,g.length-1))){l=!0;break}}}catch(e){p.e(e)}finally{p.f()}}else l=!0;l&&(c.data[r]=t.properties[r].value,s=!0)}}catch(e){u.e(e)}finally{u.f()}s&&!t.properties[r].options.persistent&&i.push(r)}for(var h=0,m=i;h<m.length;h++)delete e._properties[m[h]];if(!t.getConfiguration("sendEmptyProperties")){var y,_=o(t.events);try{for(_.s();!(y=_.n()).done;){var b,w=y.value;for(b in w.data)!Object.prototype.hasOwnProperty.call(w.data,b)||""!==w.data[b]&&void 0!==w.data[b]||delete w.data[b]}}catch(e){_.e(e)}finally{_.f()}}v(e,t,n)}function Pn(e,t,n){(e._privacy.call("getMode")!==e._privacy.modeEnum.OPTOUT||e._privacy.call("getMode")===e._privacy.modeEnum.OPTOUT&&t.getConfiguration("sendEventWhenOptout"))&&0<t.build.data.events.length&&s(t.build.url,JSON.stringify(t.build.data)),v(e,t,n)}function On(e,t,n){void 0!==t.properties.user_id?v(e,t,n):e.getUser((function(r){var o;null!==r&&(t.setProperty("user_id",r.id,o={persistent:!0}),t.setProperty("user_category",r.category,o),t.setProperty("user_recognition",!0,o)),v(e,t,n)}))}function An(e,t,n){e._storage.getItem(t.getConfiguration("storageVisitor"),(function(r){var o;t.getConfiguration("isVisitorClientSide")&&(t.visitorId=t.getConfiguration("visitorId")||cn.get("browserId"),t.getConfiguration("isLegacyPrivacy")||"opt-out"!==e.consent.getMode()||(t.visitorId="OPT-OUT"),o="OPT-OUT"!==t.visitorId&&"no-consent"!==t.visitorId&&"no-storage"!==t.visitorId&&t.visitorId!==t.getConfiguration("visitorId"),t.visitorId!==cn.get("browserId"))&&o&&(t.visitorId=t.visitorId+"-NO"),v(e,t,n)}))}function xn(e,t){return{check:Sn(t.dataLayer,{items:t.items,type:e,getConsent:In(t)})}}var Dn=function(e){this.setItem=function(t,n,r,o){t="".concat(t,"=").concat(e.getConfiguration("encodeStorageBase64")?c.base64.encode(JSON.stringify(n)):encodeURIComponent(JSON.stringify(n))),t=(t=(t=(t=(t+=";path=".concat(e.getConfiguration("cookiePath")))+";domain=".concat(e.getConfiguration("cookieDomain")))+(e.getConfiguration("cookieSecure")?";secure":""))+";samesite=".concat(e.getConfiguration("cookieSameSite")))+(r?";expires=".concat(r.toUTCString()):""),document.cookie=t,o&&o()},this.getItem=function(e,t){var n=null;if(e=new RegExp("(?:^| )".concat(e,"=([^;]+)")).exec(document.cookie)||null)try{n=JSON.parse(decodeURIComponent(e[1]))}catch(t){n=JSON.parse(c.base64.decode(e[1]))}t&&t(n)},this.deleteItem=function(e,t){var n=new Date;n.setTime(n.getTime()-1e3),this.setItem(e,"",n,t)}},In=function(e){return function(){var t=e.dataLayer.get("consent");return t&&t[e.productName]||null}},Mn=function(e,t){function n(n){(n=(null==n?void 0:n[e.productName])||null)!==r&&t(r=n)}var r=null;return e.dataLayer.addChangeListener("consent",n),function(){e.dataLayer.removeChangeListener(n)}},Sn=function(e,t){return e.utils.checkConsent.createCheckConsentWrapper(t)},En=function(e,t,n){var r=e.utils.checkConsent,o=r.itemsToMask(t),i=Object.keys(t).filter((function(e){return!r.isMask(e)}));return n().filter((function(e){return i.includes(e)||r.getByMask(e,o)}))},Nn=function(e){return xn("property",e)},Tn=function(e){function t(t){null!=(t=c(En(e.dataLayer,s,C.getNames),t))&&t.forEach((function(e){function t(){return i[e.name]||r.getByMask(e.name,a)||u}e.allowed?e.data&&C.set(e.name,e.data,t()):C.remove(e.name,t())}))}var n,r=e.dataLayer.utils.checkConsent,o=In(e),i={},a=[],s={},u={},c=(Object.keys(e.items).forEach((function(t){var n,o,u,c,l=e.items[t];l.type?(n=l.type,o=l.domain,u=l.path,c={},s[t]=n,o&&(c.domain=o),u&&(c.path=u),r.isMask(t)?a.push(r.createMask(t,c)):i[t]=c):s[t]=l})),Sn(e.dataLayer,{items:s,type:"cookie",getConsent:o}));return n=!(void 0!==e.checkConsentOnInit||!e.enableAutoRemove),e.enableAutoRemove&&(u=e.enableAutoRemove,Mn(e,t)),n&&t(o()),Object.assign({},C,{check:c,set:function(e,t,n,r){var o=c(e);null!=o&&o.allowed&&C.set(e,null!=(e=o.data)?e:t,n,r)}})},jn=function(e){return xn("event",e)},Hn={"*":"optional",pa_vid:"mandatory",pa_privacy:"mandatory",atuserid:"essential"},Ln={"click.exit":"mandatory","click.navigation":"mandatory","click.download":"mandatory","click.action":"mandatory","page.display":"mandatory"},Un={"*":"optional",connection_type:"mandatory",device_timestamp_utc:"mandatory",visitor_privacy_consent:"mandatory",visitor_privacy_mode:"mandatory",ch_ua:"mandatory",ch_ua_arch:"mandatory",ch_ua_bitness:"mandatory",ch_ua_full_version:"mandatory",ch_ua_full_version_list:"mandatory",ch_ua_mobile:"mandatory",ch_ua_model:"mandatory",ch_ua_platform:"mandatory",ch_ua_platform_version:"mandatory",app_crash:"essential",app_crash_class:"essential",app_crash_screen:"essential",app_version:"essential",browser:"essential",browser_cookie_acceptance:"essential",browser_group:"essential",browser_version:"essential",click:"essential",click_chapter1:"essential",click_chapter2:"essential",click_chapter3:"essential",click_full_name:"essential",connection_monitor:"essential",connection_organisation:"essential",date:"essential",date_day:"essential",date_daynumber:"essential",date_month:"essential",date_monthnumber:"essential",date_week:"essential",date_year:"essential",date_yearofweek:"essential",device_brand:"essential",device_display_height:"essential",device_display_width:"essential",device_name:"essential",device_name_tech:"essential",device_screen_diagonal:"essential",device_screen_height:"essential",device_screen_width:"essential",device_type:"essential",event_collection_platform:"essential",event_collection_version:"essential",event_hour:"essential",event_id:"essential",event_minute:"essential",event_position:"essential",event_second:"essential",event_time:"essential",event_time_utc:"essential",event_url:"essential",event_url_domain:"essential",event_url_full:"essential",exclusion_cause:"essential",exclusion_type:"essential",geo_city:"essential",geo_continent:"essential",geo_country:"essential",geo_metro:"essential",geo_region:"essential",goal_type:"essential",hit_time_utc:"essential",os:"essential",os_group:"essential",os_version:"essential",os_version_name:"essential",page:"essential",page_chapter1:"essential",page_chapter2:"essential",page_chapter3:"essential",page_duration:"essential",page_full_name:"essential",page_position:"essential",page_title_html:"essential",page_url:"essential",pageview_id:"essential",previous_url:"essential",privacy_status:"essential",site:"essential",site_env:"essential",site_id:"essential",site_platform:"essential",src:"essential",src_detail:"essential",src_direct_access:"essential",src_organic:"essential",src_organic_detail:"essential",src_portal_domain:"essential",src_portal_site:"essential",src_portal_site_id:"essential",src_portal_url:"essential",src_referrer_site_domain:"essential",src_referrer_site_url:"essential",src_referrer_url:"essential",src_se:"essential",src_se_category:"essential",src_se_country:"essential",src_type:"essential",src_url:"essential",src_url_domain:"essential",src_webmail:"essential"};function Bn(e,t){var n;return n=t,window.pdl&&window.pdl.consent_items&&window.pdl.consent_items.PA&&window.pdl.consent_items.PA[n]&&Object.assign(e,window.pdl.consent_items.PA[t]),e}function Rn(e){this.storageKeys=["pa_vid","pa_user","pa_privacy","atuserid"],this.propertyConsent={},this.eventConsent={},this.storageConsent={},this.consentItems={propertyItems:{},eventItems:{},cookieItems:{}},this.modeMetadata={"opt-in":{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},"opt-out":{visitor_privacy_consent:!1,visitor_privacy_mode:"optout"},essential:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},custom:{visitor_privacy_consent:!1,visitor_privacy_mode:"custom"}},this.init=function(){this.consentItems={propertyItems:Bn(Un,"properties"),eventItems:Bn(Ln,"events"),cookieItems:Bn(Hn,"storages")},this.propertyConsent=Nn({dataLayer:cn,productName:"PA",items:this.consentItems.propertyItems}),this.eventConsent=jn({dataLayer:cn,productName:"PA",items:this.consentItems.eventItems}),this.storageConsent=Tn({dataLayer:cn,productName:"PA",items:this.consentItems.cookieItems}),e.getConfiguration("isLegacyPrivacy")||(this.initMode(),this.filterKeys())},this.initMode=function(){null===cn.get("consent")&&(window.pdl.consent&&window.pdl.consent.defaultPreset?cn.set("consent",0):this.setMode("opt-in"))},this.setMode=function(e){cn.set("consent",{PA:{mode:e}}),this.filterKeys()},this.setPresets=function(e){cn.set("consent",e),this.filterKeys()},this.getMode=function(){var e="opt-in",t=cn.get("consent");return t&&t.PA&&t.PA.mode?cn.get("consent").PA.mode:e},this.setCustomModeMetadata=function(e,t){this.modeMetadata.custom.visitor_privacy_mode=t||"custom",this.modeMetadata.custom.visitor_privacy_consent=e},this.getModeMetadata=function(){return this.modeMetadata[this.getMode()]||{}},this.getConsentItems=function(){return this.consentItems},this.isPropAllowed=function(e){return this.propertyConsent.check(e).allowed}.bind(this),this.isEventAllowed=function(e){return this.eventConsent.check(e).allowed}.bind(this),this.isKeyAllowed=function(e){return this.storageConsent.check(e).allowed}.bind(this),this.filterProps=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&!this.isPropAllowed(t)&&delete e[t]},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.filterKeys=function(){var t,n=o(this.storageKeys);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.isKeyAllowed(r)||e._storage.deleteItem(r)}}catch(t){n.e(t)}finally{n.f()}},this.setItem=function(t,n,r,o){this.isKeyAllowed(t)?e._storage.setItem(t,n,r,o):o&&o()},this.dl=cn,this.init()}function Vn(e,t,n,r){var o=e[t[0]];return void 0===o||(1===t.length?(o.apply(r||e,n),!1):Vn(o,t.slice(1),n,r))}function Kn(e,t,n,r){var o=n?null:e,i=t||[],a=!1,s=!1;if(0<i.length){for(var u=0;u<i.length;u++){var c=i[u];Vn(e,c[0].split("."),c.slice(1),o)?s=!0:a=!0}s&&a&&console.error("Piano Analytics SDK - window.".concat(r,' is used for Piano Analytics integration and somewhere else. Please check "queueVarName" configuration if needed.'))}n&&(window[r]={push:function(t){Vn(e,t[0].split("."),t.slice(1))}})}function Yn(e){function t(e,t,n,r){return n=s(t[n].events[e],r),t=s(t["*"].events[e],r),n||t}function n(e,t,n,r,o){var i;o=o?(i=u(t[n].properties,e,r,o),u(t["*"].properties,e,r,o)):(i=c(t[n].properties,e,r),c(t["*"].properties,e,r));return i||o}function r(e,t,n,r){return n=l(t[n].storage,e,r),t=l(t["*"].storage,e,r),n||t}var o=e.getConfiguration("privacy"),i=(this.currentMode="",this.modes=o.modes,this._storageKeys=Object.assign(o.legacyKeys,o.storageKeys),this.init=function(){e.getConfiguration("isLegacyPrivacy")&&(window._pac=window._pac||{privacy:[]},Kn(this,window._pac.privacy),e._storage.getItem(o.storageKey,function(t){this.setMode(t&&this.modes[t]?t:e.getConfiguration("privacyDefaultMode"))}.bind(this)))},this.setMode=function(t){t!==this.currentMode&&this.modes[t]&&(this.currentMode=t,e._storage.getItem(o.storageKey,function(n){"optout"===t||"no-consent"===t||"no-storage"===t?e.setConfiguration("visitorId",this.modes[t].visitorId):"OPT-OUT"!==e.getConfiguration("visitorId")&&"no-consent"!==e.getConfiguration("visitorId")&&"no-storage"!==e.getConfiguration("visitorId")||e.cfg.deleteProperty("visitorId"),this.filterProps(e._properties),this.filterKeys(),n!==t&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimePrivacy")*60*60*1e3),this.setItem(o.storageKey,t,n))}.bind(this)))},this.createMode=function(e,t){var n;this.modes[e]||((n=a(this.modes.exempt)).name=e,n.properties.include.visitor_privacy_mode=e,n.properties.include.visitor_privacy_consent=t,this.modes[e]=n)},this.getMode=function(){return this.currentMode},function(e,t,n,r,o,i){var a=["*"],s=["*"],u="properties",c=r?"forbidden":"allowed";t&&(a="string"==typeof t?[t]:t),n&&(s="string"==typeof n?[n]:n),o&&(u="storage"),i&&(u="events");for(var l=0;l<a.length;l++)if(void 0!==this.modes[a[l]])for(var f=this.modes[a[l]],d=0;d<s.length;d++){var p=f[u][c];void 0!==p[s[d]]||o||i||(p[s[d]]={});for(var v=0;v<e.length;v++)o||i?p[e[v]]=!0:p[s[d]][e[v]]=!0}}.bind(this)),s=(this.include={properties:function(e,t,n){i(e,t,n)},property:function(e,t,n){i([e],t,n)},storageKeys:function(e,t){i(e,t,null,!1,!0)},storageKey:function(e,t){i([e],t,null,!1,!0)},events:function(e,t){i(e,t,null,!1,!1,!0)},event:function(e,t){i([e],t,null,!1,!1,!0)}},this.exclude={properties:function(e,t,n){i(e,t,n,!0)},property:function(e,t,n){i([e],t,n,!0)},storageKeys:function(e,t){i(e,t,null,!0,!0)},storageKey:function(e,t){i([e],t,null,!0,!0)},events:function(e,t){i(e,t,null,!0,!1,!0)},event:function(e,t){i([e],t,null,!0,!1,!0)}},function(e,t){if(e[t])return!0;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"*"===n.charAt(n.length-1)&&0===t.indexOf(n.substring(0,n.length-1)))return!0;return!1}),u=(this.isEventAllowed=function(e){var n=t("forbidden",this.modes,this.currentMode,e);e=t("allowed",this.modes,this.currentMode,e);return!n&&e},function(e,t,n,r){var o,i=e[t];if(i[r]&&i[r][n]||i["*"][n])return!0;for(o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&"*"===o.charAt(o.length-1)&&0===r.indexOf(o.substring(0,o.length-1))||o===r)for(var a in i[o])if(Object.prototype.hasOwnProperty.call(i[o],a)&&("*"===a.charAt(a.length-1)&&0===n.indexOf(a.substring(0,a.length-1))||n===a))return!0;return!1}),c=function(e,t,n){if("forbidden"===t&&e[t]["*"][n])return!0;for(var r in e[t])if(Object.prototype.hasOwnProperty.call(e[t],r)){if(e[t][r][n])return!0;for(var o in e[t][r])if("*"===o.charAt(o.length-1)&&0===n.indexOf(o.substring(0,o.length-1)))return!0}return!1},l=(this.isPropAllowed=function(e,t){var r=n("forbidden",this.modes,this.currentMode,e,t);e=n("allowed",this.modes,this.currentMode,e,t);return!r&&e},function(e,t,n){var r,o=e[t];if(o[n])return!0;for(r in o)if(Object.prototype.hasOwnProperty.call(o,r)&&"*"===r.charAt(r.length-1)&&0===n.indexOf(r.substring(0,r.length-1)))return!0;return!1});this.isKeyAllowed=function(e){var t=r("forbidden",this.modes,this.currentMode,e);e=r("allowed",this.modes,this.currentMode,e);return!t&&e},this.setItem=function(t,n,r,o){this.isKeyAllowed(t)?e._storage.setItem(t,n,r,o):o&&o()},this.filterProps=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!this.isPropAllowed(n,t||void 0)&&delete e[n]},this.filterKeys=function(){for(var t in this._storageKeys)Object.prototype.hasOwnProperty.call(this._storageKeys,t)&&!this.isKeyAllowed(t)&&e._storage.deleteItem(t)},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.getModeMetadata=function(){return this.modes[this.getMode()].properties.include},this.init()}function qn(e){this.modeEnum={OPTOUT:e.getConfiguration("isLegacyPrivacy")?"optout":"opt-out"},this.call=function(t){for(var n=e.getConfiguration("isLegacyPrivacy")?"privacy":"consent",r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e[n][t].apply(e[n],o)}}function Jn(e){var t=e.getConfiguration("storageUser");this.setUser=function(n,r,o){var i={id:n,category:r};e.setProperties({user_id:n,user_category:r,user_recognition:!1},{persistent:!0}),!1!==o&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimeUser")*60*60*1e3),e._privacy.call("setItem",t,i,n))},this.getUser=function(n){e._storage.getItem(t,(function(t){var r=t;!t&&e._properties.user_id&&(r={id:e._properties.user_id.value,category:e._properties.user_category.value}),n&&n(r)}))},this.deleteUser=function(n){e.deleteProperty("user_id"),e.deleteProperty("user_category"),e.deleteProperty("user_recognition"),e._storage.deleteItem(t,(function(){n&&n()}))}}function Fn(e){var r,o,i=this;for(r in i.cfg=new f(a(e)||t),i.setConfiguration=i.cfg.setConfiguration,i.setConfigurations=i.cfg.setConfigurations,i.getConfiguration=i.cfg.getConfiguration,window._pac=window._pac||{privacy:[]},window._pac)Object.prototype.hasOwnProperty.call(window._pac,r)&&"privacy"!==r&&i.setConfiguration(r,window._pac[r]);this._storage=new Dn(this),this._queue=new d(this),this._properties={},this._sendEvent=Wn,(e=this).setConfiguration("isLegacyPrivacy",!0),void 0===window.pdl?window.pdl={migration:{browserId:{source:"PA"}},cookies:{storageMode:"fixed"}}:window.pdl&&window.pdl.requireConsent&&e.setConfiguration("isLegacyPrivacy",!1),cn.init({cookieDefault:{domain:e.getConfiguration("cookieDomain"),secure:e.getConfiguration("cookieSecure"),path:e.getConfiguration("cookiePath"),samesite:e.getConfiguration("cookieSameSite")},cookies:{_pcid:{expires:e.getConfiguration("storageLifetimeVisitor")}}}),e.privacy=new Yn(e),e.consent=new Rn(e),e._privacy=new qn(e),this.user=new Jn(this),function(e){function t(){this.debugError={trigger:"AvInsights:Media:setContentValues:Error",level:"ERROR",messageObject:"Not an object"},this.processHeartbeatValue=function(e,t){return(e=parseInt(e,10))?Math.max(e,t):0},this.value2Number=function(e){var t=0;return isNaN(Number(e))||(t=Number(e)),Math.max(t,0)}}var r={minHeartbeat:e.getConfiguration("minHeartbeat"),minBufferingHeartbeat:e.getConfiguration("minBufferingHeartbeat")},o="_ATVALUE",i="_ATPREFIX";function s(e,t){var n;e=e.length<2||":"!==e[1]?(n="",e):e.length<4||":"!==e[3]?(n=e.substring(0,1),e.substring(2,e.length)):(n=e.substring(0,3),e.substring(4,e.length));return t&&(n=n.toLowerCase(),e=e.toLowerCase()),{prefix:n,key:e}}function u(e){return null!==e&&"object"===n(e)&&!(e instanceof Array)}function c(e,t,n,r,a){var l,f,d,p="",v="",g="",h=0;for(d in e)if(Object.prototype.hasOwnProperty.call(e,d))if(p=(l=s(d,a)).prefix||r||"",v=(t?t+"_":"")+l.key,u(e[d]))c(e[d],v,n,p,a);else{for(f=v.split("_"),g="",h=0;h<f.length;h++)p=(l=s(f[h],a)).prefix||p,g+=l.key+(h<f.length-1?"_":"");n[v=g||v]=n[v]||{},n[v][o]=e[d],n[v][i]=p}}e.avInsights={},e.avInsights.Media=function(n,f,d){function p(e){e?w.delayBufferingConfiguration=a(w.delayBufferingConfigurationBackup):w.delayConfiguration=a(w.delayConfigurationBackup)}function v(e,t){if(t){O(e);var n,o={};for(n in u(t)?o=t:isNaN(t)?o=JSON.parse(t):o[0]=t,o)Object.prototype.hasOwnProperty.call(o,n)&&(e?w.delayBufferingConfiguration.push({delay:b.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:b.processHeartbeatValue(o[n],r.minBufferingHeartbeat)}):w.delayConfiguration.push({delay:b.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:b.processHeartbeatValue(o[n],r.minHeartbeat)}));A(e),P(e)}}function g(t,n,r,s){var l=a(k);l.av_session_id={},l.av_session_id[o]=w.sessionId,l.av_session_id[i]="",n&&(D(l),w.previousEvent=t),u(s)&&c(s,null,l,null,!0),n=I(l);e.sendEvent(t,n,r)}function h(e,t,n,r,o){C.initBaseTime(),w.eventDuration=C.getEventDuration(),w.previousCursorPosition=w.currentCursorPosition,w.currentCursorPosition=e?w.previousCursorPosition+Math.floor(w.playbackSpeed*w.eventDuration):n,t&&C.initHeartbeatTimer((function(){h(!0,!0)}),!1),g("av.heartbeat",!0,r,o)}function m(e,t,n){C.initBaseTime(),w.eventDuration=C.getEventDuration(),e&&C.initHeartbeatTimer((function(){m(!0)}),!0),g("av.buffer.heartbeat",!0,t,n)}function y(e,t,n){C.initBaseTime(),w.eventDuration=C.getEventDuration(),w.previousCursorPosition=w.currentCursorPosition,e&&C.initHeartbeatTimer((function(){y(!0)}),!0),g("av.rebuffer.heartbeat",!0,t,n)}var _=this,b=new t,w=null,C=null,k=null,P=function(e){e?w.delayBufferingConfigurationBackup=a(w.delayBufferingConfiguration):w.delayConfigurationBackup=a(w.delayConfiguration)},O=function(e){e?(w.delayBufferingConfiguration=[],w.delayBufferingConfigurationBackup=[]):(w.delayConfiguration=[],w.delayConfigurationBackup=[])},A=function(e){(e?w.delayBufferingConfiguration:w.delayConfiguration).sort((function(e,t){return e.delay<t.delay?-1:e.delay>t.delay?1:0}))},x=function(e){var t;void 0===(t=void 0!==(e=e?w.delayBufferingConfiguration:w.delayConfiguration)[1]?e[1].delay:t)?e[0].number=1:0<e[0].number?e[0].number--:"number"==typeof t&&(e[0].number=Math.floor(60*(t-e[0].delay)/e[0].refresh)-1)},D=function(e){e.av_previous_position={},e.av_previous_position[o]=w.previousCursorPosition,e.av_previous_position[i]="",e.av_position={},e.av_position[o]=w.currentCursorPosition,e.av_position[i]="",e.av_duration={},e.av_duration[o]=w.eventDuration,e.av_duration[i]="",e.av_previous_event={},e.av_previous_event[o]=w.previousEvent,e.av_previous_event[i]=""},I=function(e){var t,n={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(Object.prototype.hasOwnProperty.call(e[t],o)?n[e[t][i]?"".concat(e[t][i],":").concat(t):t]=e[t][o]:n[t]=e[t]);return n};_.set=function(e,t){e=s(e,!0),k[e.key]=k[e.key]||{},k[e.key][o]=t,k[e.key][i]=e.prefix},_.get=function(e){var t=null;e=s(e,!0);return void 0!==k[e.key]?k[e.key][o]:t},_.del=function(e){e=s(e,!0),void 0!==k[e.key]&&delete k[e.key]},_.setProps=function(e){u(e)&&c(e,null,k,null,!0)},_.getProps=function(){var e,t=null;for(e in k)Object.prototype.hasOwnProperty.call(k,e)&&((t=t||{})[e]=k[e][o]);return t},_.delProps=function(){k={}},_.setPlaybackSpeed=function(e){(e=b.value2Number(e)||w.playbackSpeed)!==w.playbackSpeed&&(C.stopHeartbeatTimer(!1),w.isPlaying&&(h(!0,!1),C.initHeartbeatTimer((function(){h(!0,!0)}),!1)),w.playbackSpeed=e)},_.getSessionID=function(){return w.sessionId},_.track=function(e,t,n,r){var o=t||{};switch(e){case"av.heartbeat":_.heartbeat(o.av_position,n,r);break;case"av.buffer.heartbeat":_.bufferHeartbeat(n,r);break;case"av.rebuffer.heartbeat":_.rebufferHeartbeat(n,r);break;case"av.play":_.play(o.av_position,n,r);break;case"av.buffer.start":_.bufferStart(o.av_position,n,r);break;case"av.start":_.playbackStart(o.av_position,n,r);break;case"av.resume":_.playbackResumed(o.av_position,n,r);break;case"av.pause":_.playbackPaused(o.av_position,n,r);break;case"av.stop":_.playbackStopped(o.av_position,n,r);break;case"av.backward":_.seekBackward(o.av_previous_position,o.av_position,n,r);break;case"av.forward":_.seekForward(o.av_previous_position,o.av_position,n,r);break;case"av.seek.start":_.seekStart(o.av_previous_position,n,r);break;case"av.error":_.error(o.av_player_error,n,r);break;default:g(e,!1,n,r)}},_.heartbeat=function(e,t,n){var r,o=!0;null!=e&&0<=e&&(o=!1,r=b.value2Number(e)),h(o,!1,r,t,n)},_.bufferHeartbeat=function(e,t){m(!1,e,t)},_.rebufferHeartbeat=function(e,t){y(!1,e,t)},_.play=function(e,t,n){C.initBaseTime(),e=b.value2Number(e),w.eventDuration=0,w.previousCursorPosition=e,w.currentCursorPosition=e,w.isPlaying=!1,w.isPlaybackActivated=!1,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),g("av.play",!0,t,n)},_.bufferStart=function(e,t,n){C.initBaseTime(),e=b.value2Number(e),w.eventDuration=C.getEventDuration(),w.previousCursorPosition=w.currentCursorPosition,w.currentCursorPosition=e,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),w.isPlaybackActivated?(C.initHeartbeatTimer((function(){y(!0)}),!0),g("av.rebuffer.start",!0,t,n)):(C.initHeartbeatTimer((function(){m(!0)}),!0),g("av.buffer.start",!0,t,n))},_.playbackStart=function(e,t,n){C.initBaseTime(),e=b.value2Number(e),w.eventDuration=C.getEventDuration(),w.previousCursorPosition=e,w.currentCursorPosition=e,w.isPlaying=!0,w.isPlaybackActivated=!0,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),C.initHeartbeatTimer((function(){h(!0,!0)}),!1),g("av.start",!0,t,n)},_.playbackResumed=function(e,t,n){C.initBaseTime(),e=b.value2Number(e),w.eventDuration=C.getEventDuration(),w.previousCursorPosition=w.currentCursorPosition,w.currentCursorPosition=e,w.isPlaying=!0,w.isPlaybackActivated=!0,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),C.initHeartbeatTimer((function(){h(!0,!0)}),!1),g("av.resume",!0,t,n)},_.playbackPaused=function(e,t,n){C.initBaseTime(),e=b.value2Number(e),w.eventDuration=C.getEventDuration(),w.previousCursorPosition=w.currentCursorPosition,w.currentCursorPosition=e,w.isPlaying=!1,w.isPlaybackActivated=!0,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),g("av.pause",!0,t,n)},_.playbackStopped=function(e,t,n){C.initBaseTime(),e=b.value2Number(e),w.eventDuration=C.getEventDuration(),w.previousCursorPosition=w.currentCursorPosition,w.currentCursorPosition=e,w.isPlaying=!1,w.isPlaybackActivated=!1,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),C.resetProperties(),p(!1),p(!0),g("av.stop",!0,t,n),w.previousCursorPosition=0,w.currentCursorPosition=0,w.eventDuration=0,w.previousEvent="",w.sessionId=l.v4()},_.seek=function(e,t,n,r){e=b.value2Number(e),(t=b.value2Number(t))<e?_.seekBackward(e,t,n,r):_.seekForward(e,t,n,r)},_.seekBackward=function(e,t,n,r){_.seekStart(e,null,r),w.eventDuration=0,w.previousCursorPosition=b.value2Number(e),w.currentCursorPosition=b.value2Number(t),g("av.backward",!0,n,r)},_.seekForward=function(e,t,n,r){_.seekStart(e,null,r),w.eventDuration=0,w.previousCursorPosition=b.value2Number(e),w.currentCursorPosition=b.value2Number(t),g("av.forward",!0,n,r)},_.seekStart=function(e,t,n){e=b.value2Number(e),w.previousCursorPosition=w.currentCursorPosition,w.currentCursorPosition=e,w.isPlaying?w.eventDuration=C.getEventDuration():w.eventDuration=0,g("av.seek.start",!0,t,n)},_.adClick=function(e,t){g("av.ad.click",!1,e,t)},_.adSkip=function(e,t){g("av.ad.skip",!1,e,t)},_.error=function(e,t,n){var r={};(r=u(n)?n:r).av_player_error=String(e),g("av.error",!1,t,r)},_.display=function(e,t){g("av.display",!1,e,t)},_.close=function(e,t){g("av.close",!1,e,t)},_.volume=function(e,t){g("av.volume",!1,e,t)},_.subtitleOn=function(e,t){g("av.subtitle.on",!1,e,t)},_.subtitleOff=function(e,t){g("av.subtitle.off",!1,e,t)},_.fullscreenOn=function(e,t){g("av.fullscreen.on",!1,e,t)},_.fullscreenOff=function(e,t){g("av.fullscreen.off",!1,e,t)},_.quality=function(e,t){g("av.quality",!1,e,t)},_.speed=function(e,t){g("av.speed",!1,e,t)},_.share=function(e,t){g("av.share",!1,e,t)},v(!(w={previousCursorPosition:0,currentCursorPosition:0,eventDuration:0,playbackSpeed:1,previousEvent:"",isPlaybackActivated:!1,isPlaying:!1,sessionId:"",delayConfiguration:[],delayConfigurationBackup:[],delayBufferingConfiguration:[],delayBufferingConfigurationBackup:[]}),n),v(!0,f),w.sessionId=d||l.v4(),C=new function(){var e=this,t=0,n=0;e.getEventDuration=function(){var e=(new Date).getTime()-t-n;return n+=e,e},e.initBaseTime=function(){0===t&&(t=(new Date).getTime())},e.resetProperties=function(){n=t=0},e.initHeartbeatTimer=function(e,t){var n=t?w.delayBufferingConfiguration:w.delayConfiguration;0<n.length&&(x(t),clearTimeout(n[0].timeout),n[0].timeout=setTimeout((function(){0===n[0].number&&n.splice(0,1),e&&e()}),1e3*n[0].refresh))},e.stopHeartbeatTimer=function(e){for(var t=e?w.delayBufferingConfiguration:w.delayConfiguration,n=0;n<t.length;n++)clearTimeout(t[n].timeout),t[n].timeout=-1}},f="unload",d=function(){C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0)},(n=window).addEventListener?n.addEventListener(f,d,!1):n.attachEvent&&n.attachEvent("on"+f,d),k={}}}(this),o=(e=this).getConfiguration("queueVarName"),window[o]=window[o]||[],Kn(e,window[o],!0,o)}function Wn(e,t){for(var n=[Cn,An,On,m,mn,kn,bn,g,wn,Pn],r=0;r<e.length;r++){var o={name:"",data:{}};if("string"==typeof e[r])o.name=e[r];else{if(void 0!==e[r].data)continue;o.name=e[r].name}e[r]=o}var i;t={events:e,options:t};0<n.length&&"function"==typeof n[0]&&(i=new f(this.cfg.cloneData()),n[0](this,new p(this,t,i),n.slice(1)))}return Fn.prototype.setProperty=function(e,t,n){this._privacy.call("isPropAllowed",e)&&(this._properties[e]={value:t,options:n||{}})},Fn.prototype.setProperties=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.setProperty(n,e[n],t)},Fn.prototype.deleteProperty=function(e){delete this._properties[e]},Fn.prototype.sendEvent=function(e,t,n){this._queue.push(["_sendEvent",[{name:e,data:t}],n])},Fn.prototype.sendEvents=function(e,t){this._queue.push(["_sendEvent",e,t])},Fn.prototype.getVisitorId=function(e){var t,n=this.getConfiguration("visitorId")||null;if(n=n||cn.get("browserId"),(t=e)&&t(n),void 0===e)return n},Fn.prototype.setVisitorId=function(e){this.setConfiguration("visitorId",e);var t=new Date;t.setTime(t.getTime()+24*this.getConfiguration("storageLifetimeVisitor")*60*60*1e3),this._privacy.call("setItem",this.getConfiguration("storageVisitor"),e,t,(function(){cn.updateMigration()}))},Fn.prototype.setUser=function(e,t,n){this.user.setUser(e,t,n)},Fn.prototype.getUser=function(e){this.user.getUser(e)},Fn.prototype.deleteUser=function(){this.user.deleteUser()},(Fn.prototype.PA=Fn).prototype.refresh=function(){cn.refresh()},Fn.prototype.setContentProperty=function(e,t){var n={};"content_publication_date"===e||"tags_array"===e?n[{content_publication_date:"createdAt",tags_array:"tags"}[e]]=t:n[e]=t,cn.set("content",n)},Fn.prototype.setContentProperties=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.setContentProperty(t,e[t])},lt=new Fn(t),window&&!window.pa&&(window.pa=lt),ft=lt,e.pianoAnalytics=ft,Object.defineProperty(e,"__esModule",{value:!0}),e}({});