!function(e,a,t,l,i,n){ys.head.onScan("[data-"+a+"]",(function(){var t=e(this),l=t.data(a);l.before&&l.template&&""!=l.before&&""!=l.template&&(t.on("click."+a+" "+a,(function(a){e(l.before).before(e(l.template).mustache().pjScan())})),t.trigger("click."+a))})),ys.head.onScan("[data-"+l+"]",(function(){var a=e(this),t=a.data(l);t.before&&t.template&&t.id&&t.value&&""!=t.before&&""!=t.template&&a.click((function(a){""!=e(t.value).val()&&(e(t.value).prop("validity")&&e(t.value).prop("validity").valid||null==e(t.value).prop("validity"))&&(e(t.before).before(e(t.template).mustache({input_type:t.type?e(t.type).val():"",input_value:e(t.value).val(),valeur:e(t.type).val()+" : "+e(t.value).val(),nbhidden:parseInt(e("[id^="+t.id+"]").length?e("[id^="+t.id+"]").last().attr("id").substring(t.id.length):"-1")+1}).pjScan()),t.remove&&e(t.remove).remove(),t.toggleclass&&t.toggleclass.sel&&t.toggleclass.klass,e(t.toggleclass.sel).toggleClass(t.toggleclass.klass,t.toggleclass.force||null))}))})),ys.head.onScan("[data-"+l+"-horaires]",(function(){var a=e(this),t=a.data(l+"-horaires");if(t.before&&t.template&&t.id&&t.value&&""!=t.before&&""!=t.template){var i=e(t.value.jour_deb+", "+t.value.jour_fin+", "+t.value.h1_deb+", "+t.value.h1_fin);i.change((function(l){var n=!0;i.each((function(){n=n&&""!=e(this).val()})),n&&a.toggleClass(t.togglehide,!1)})),a.click((function(l){var i=e(t.value.jour_deb).val(),n=e(t.value.jour_fin).val(),d=["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],o=!1,r=d.indexOf(i);if(""==n&&(n=i),r>-1){for(;!o;)i=d[r],e(t.before).before(e(t.template).mustache({jour_deb:i.charAt(0).toUpperCase()+i.slice(1),h1_deb:e(t.value.h1_deb+" option:selected").text(),h1_fin:e(t.value.h1_fin+" option:selected").text(),h2_deb:e(t.value.h2_deb+" option:selected").text(),h2_fin:e(t.value.h2_fin+" option:selected").text(),nbhidden:parseInt(e("[id^="+t.id+"]").length?e("[id^="+t.id+"]").last().attr("id").substring(t.id.length):"-1")+1}).pjScan()),o=i==n,r=r==d.length-1?0:r+1;a.toggleClass(t.togglehide,1),e(t.value.jour_deb+", "+t.value.jour_fin+", "+t.value.h1_deb+", "+t.value.h1_fin+", "+t.value.h2_deb+", "+t.value.h2_fin).val("")}}))}})),ys.head.onScan("[data-"+l+"-fermeture]",(function(){var a=e(this),t=a.data(l+"-fermeture");if(t.before&&t.template&&t.id&&t.value&&""!=t.before&&""!=t.template){var i=e(t.value.jour_deb+", "+t.value.jour_fin);a.click((function(l){e(t.before).before(e(t.template).mustache({jour_deb:e(t.value.jour_deb).val(),jour_fin:e(t.value.jour_fin).val()!=e(t.value.jour_deb).val()?e(t.value.jour_fin).val():"",nbhidden:parseInt(e("[id^="+t.id+"]").length?e("[id^="+t.id+"]").last().attr("id").substring(t.id.length):"-1")+1}).pjScan()),i.val(""),a.toggleClass(t.togglehide,1)}))}})),ys.head.onScan("[data-pjcqfd-del]",(function(){var a=e(this),t=a.data("pjcqfd-del");a.click((function(l){a.parent().remove(),t.id&&0==e("[id^="+t.id+"]").length&&e(t.add).not(".hidden").click()}))})),ys.head.onScan("[data-pjcqfd-form]",(function(){var a=e(this);a.submit((function(){e("input[data-pjcqfd-form-attr]").each((function(){if(e(this).data("pjcqfd-form-attr")==a.attr("id")){var t=e(this),l=a.find("input[name="+t.name+"]");l.length?l.val(t.value):e("<input/>").attr("type","hidden").attr("name",t.attr("name")).val(t.val()).appendTo(a)}}))}))})),ys.head.$doc.on("click","button[data-pjcqfd-form-attr]",(function(a){a.preventDefault();var t=e(this).attr("form");e("string"==typeof t?"#"+t:t).submit()}))}(ys.$,"pjcqfd-add",0,"pjcqfd-ok");