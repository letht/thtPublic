"use strict";!function(e){ys.head.onScan("[data-"+e+"]",(function(){var s=$(this),o=$.extend(!0,{},{clef:e,dontshow:!1,body:{klass:e,force:!0},elem:{klass:"hidden",force:!1}},s.data(e));o.elem.sel=o.elem.sel||this;var t=function(e,s){e.elem&&$(e.elem.sel).toggleClass(e.elem.klass,e.elem.force==s),e.body&&$("body").toggleClass(e.body.klass,e.body.force==s)};window.sessionStorage.getItem(o.clef)||(o.dontshow?window.sessionStorage.setItem(o.clef,1):(t(o,!0),s.click((function(){window.sessionStorage.setItem(o.clef,1),t(o,!1)}))))}))}("pjhidesession");"use strict";!function(n){ys.head.onScan("[data-"+n+"]",(function(){var s=$(this),a=s.data(n);a.nom&&""!=a.nom&&$.each($.isArray(a.nom)?a.nom:[a.nom],(function(){this&&""!=this&&s.addClass(window[this]||"")}))}))}("pjsetclass");"use strict";!function(a){ys.head.$doc.on("click."+a,"[data-"+a+"]",(function(){var t,o=$(this);$.each(o.data(a),(function(s,i){(t=$(s).val(i)).data("default_value",i),o.hasClass("pj-nosubmit")||(ys.head.doAction("pjacou."+a,i),ys.head.doAction("pjacmono."+a,i))})),o.hasClass("pj-nosubmit")||void 0!==t&&t.get(0).form&&$(t.get(0).form).submit()}))}("pjsetinput");"use strict";!function(e,t,n){ys.head.onScan("[data-"+e+"]",(function(){var o=$.extend({name:"pj_policy_cookie",value:0,domain:null,path:"/",expires:182.5,vendorOpt:[]},$(this).data(e)),s={domain:o.domain,path:o.path,expires:o.expires};"1"!==n.get(o.name)&&n.set(o.name,o.value,s),ys.head.addAction(e+"afterInit",(function(r){if(!1!==r){var a=t.Didomi.getUserConsentStatusForAll().vendors;a&&a.enabled.length+a.disabled.length>0&&"1"!==n.get(o.name)&&(n.set(o.name,o.value+1,s),"consent"===r&&ys.$("html").addClass(e+"ready").trigger(e+"ready")),ys.head.doAction(e,r)}})),o.vendorOpt.length>0&&t.didomiOnReady.push((function(e){o.vendorOpt.forEach((function(t){e.getObservableOnUserConsentStatusForVendor(t.id).subscribe((function(e){"boolean"!=typeof e&&void 0===e||$.ajax({url:!0===e?t.optin:t.optout,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){}})}))}))}));var r=function(e){var n=t.Didomi;if(!1===o.customConsentVars.hasOwnProperty(e))return!1;var s=o.customConsentVars[e].customConsent;if(Array.isArray(s))for(var a=0;a<s.length;a++)if(e!==s[a]&&!1===o.customConsentVars[s[a]].hasOwnProperty("customConsent")&&!0!==r(s[a]))return!1;var i=o.customConsentVars[e].purposes;if(Array.isArray(i))for(var d=0;d<i.length;d++)if(!0!==n.getUserConsentStatusForPurpose(i[d]))return!1;var c=o.customConsentVars[e].vendors;if(Array.isArray(c))for(var u=0;u<c.length;u++)if(!0!==n.getUserConsentStatusForVendor(c[u]))return!1;return!0};const a=t.sessionStorage,i="off"===a.getItem("pj-privacy")&&"1"===a.getItem("pj-webview");if("object"==typeof o.customConsentVars){var d=function(){for(var n in o.customConsentVars)!0===o.customConsentVars.hasOwnProperty(n)&&(s=n,a=void 0,a=!!i||!!r(s),ys.head.doAction(e+"-customConsent",s,!!t.localStorage.getItem("pjcmp-"+s),a),t.localStorage.setItem("pjcmp-"+s,a?"1":""));var s,a};i?d():(t.didomiEventListeners.push({event:"consent.changed",listener:d}),t.didomiOnReady.push(d))}}))}("pjpolicycookie",window,ys.head.Cookies);"use strict";!function(a){var t=window.sessionStorage,o=!1,e=function(){if(!o){o=!0;var a={origin:"direct"};t.getItem("pjctx")&&(a=JSON.parse(t.getItem("pjctx")));var e=document.referrer;e.length>0&&!1===/https?:\/\/[^/]\.pagesjaunes\.fr/.test(e)&&(a.origin="indirect");var n=window.pj_searchctx;if("object"==typeof n)for(var i in n)if(!1!==n.hasOwnProperty(i)){try{a.quoiqui=n[i].form.quoiqui,a.ou=n[i].form.ou}catch(a){ys.head.error(a)}break}t.setItem("pjctx",JSON.stringify(a))}};function n(o){var r=$(this===window||void 0===this?o:this).pjAPreventDefault(o),c=$.extend({context:!1},r.data(a)||{});if(!r.hasClass("pj-on-connected")||pj_is_authenticated){if(e(),c.context){var l;c.data=c.data?c.data:{};try{l=JSON.parse(t.getItem("pjctx"))}catch(o){ys.head.error(o)}l&&(c.data.origin=l.origin,c.data.quoiqui=l.quoiqui,c.data.ou=l.ou)}if(c.clickOnce){var s=[];try{var d=window.localStorage.getItem(c.clickOnce.storageName);d&&(s=JSON.parse(d))}catch(o){ys.head.error(o)}if(-1!==s.indexOf(c.clickOnce.id))return}if("boolean"!=typeof c.testgigya||c.testgigya===i){void 0!==c.url&&null!==c.url||!r.attr("href")||(c.url=r.attr("href"));for(var h=(c.testcookie||[]).length,p=0;p<h;p++){var u=c.testcookie[p],f=ys.head.Cookies.get(u.name);if(u.val&&f!=u.val||0==u.exists&&null!=f||u.exists&&null==f)return}if(c.anchor&&null!=window.location.hash&&""!=window.location.hash){var g=window.location.hash.indexOf(""!=c.anchor?c.anchor:"");c.data=c.data?c.data:{},c.data.anchor=-1==g?window.location.hash:window.location.hash.slice(g+c.anchor.length)}if(c.scrollTo){var j=0;if(c.scrollTo.delta&&$(c.scrollTo.delta).forEach((function(a){j+=$(a).height()})),c.scrollTo.deltaVal&&(j+=j+c.scrollTo.deltaVal),c.scrollTo.toAnchor&&$("#"+c.data.anchor).length)return void ys.head.scrollTo($("#"+c.data.anchor).offset().top-j,{axis:"y",behavior:c.scrollTo.duration?"smooth":void 0,what:c.scrollTo.what})}if(c.etatFantomas&&(c.data=c.data?c.data:{},c.data.etatFantomas=!1,c.data.etatFantomas=!!(JSON.parse(window.sessionStorage.getItem("pjhistofantomas"))||{})[c.etatFantomas]),c.cadre){c.data=c.data?c.data:{};var v=ys.head.pjcarte.getBounds();c.data.toprightx=v._northEast.lng,c.data.toprighty=v._northEast.lat,c.data.bottomleftx=v._southWest.lng,c.data.bottomlefty=v._southWest.lat}if(c.nontraditionnal&&$.ajaxSetup({traditional:!1}),ys.head.getXml4HtmlUpdates(c,r,(function(a){if(c.modehtml){var t=$.parseXML("<changes/>"),o=t.createElement(c.modehtml.action||"content");o.setAttribute("id",c.modehtml.htmlid),o.appendChild(t.createCDATASection(a)),t.documentElement.appendChild(o),a=t}if(ys.head.xmlUpdates(a),c.setFocus){var e=$.extend({ou:"undefined",end:0},c.setFocus||{}),n=$(e.ou);if(n.is(":visible"))if(e.end&&n.is("input")){var i=n.val();n.pjFocus().val(""),n.val(i)}else n.pjFocus()}if(c.scrollTo&&(c.scrollTo.toAnchor||c.scrollTo.to)){var r=$(c.scrollTo.toAnchor?"#"+c.data.anchor:c.scrollTo.to);if(r.length){var l=r.offset().top-j;ys.head.scrollTo(l>0?l:0,{axis:"y",behavior:c.scrollTo.duration?"smooth":void 0,what:c.scrollTo.what})}}})),c.heartbeat&&$.isNumeric(c.heartbeat)&&parseInt(c.heartbeat)>0)var m=setInterval((function(){n(o),clearInterval(m)}),c.heartbeat);c.nontraditionnal&&$.ajaxSetup({traditional:!0})}}}ys.head.$doc.on("click."+a,"[data-pjajax]:not(select):not(.pj-on-contentfirst):not(.pj-on-gigya)",n).on("click."+a,".pj-on-contentfirst[data-pjajax]:not(select)",(function(){var t=$(this).data(a);t.selBloquant&&!$(t.selBloquant).length&&n(this)})),ys.head.onScan(".pj-on-autoload[data-pjajax]",(function(){n(this)})),ys.head.addAction("pjajax.ajaxception",(function(a){n(a)}));var i=!1;ys.head.addAction("onGigyaLoggedIn",(function(){i=!0,$("[data-pjajax].pj-on-gigya:not(.pj-on-scroll)").each((function(){n(this)})),$(window).trigger("scroll-recheck."+a)})),ys.head.onScan("select[data-pjajax]",(function(){var t=this;$(this).change((function(o){var e=$(this).find("option[data-pjajax-onselect]:selected"),i=$(t).data(a);e&&e.length&&($(t).data(a,$.extend({},i,e.data(a+"-onselect"),!0)),n(t),$(t).data(a,i))}))})),ys.head.onScan("[data-pjajax]",(function(){var t=$(this),o=t.data(a)||{};if(o.clickOnce){var e=$.extend({clickOnce:{addToList:!1,storageName:a+"-clickOnce"}},o);if(!e.clickOnce.id)throw"Missing pjajax.clickOnce.id";var n=[];try{var i=window.localStorage.getItem(e.clickOnce.storageName);i&&(n=JSON.parse(i))}catch(a){ys.head.error(a)}if(e.clickOnce.addToList){-1===n.indexOf(e.clickOnce.id)&&n.push(e.clickOnce.id);var r=100;"number"==typeof window.nbMaxContribUtile&&(r=window.nbMaxContribUtile),n.length>r&&n.splice(0,n.length-r),window.localStorage.setItem(e.clickOnce.storageName,JSON.stringify(n)),delete e.clickOnce.addToList}t.prop("disabled",-1!==n.indexOf(e.clickOnce.id))}}));$((function(){e();var t,o,r,c,l,s,d,h,p,u,f=$(window),g=document.documentElement,j=(t=function(a,t,o){$(".pj-scroll-ready.pj-on-scroll[data-pjajax]").each((function(){var a=$(this),e=a.offset().top;a.hasClass("pj-on-gigya")&&!1===i||parseFloat(e)<=parseFloat(t)+parseFloat(o)&&(n(this),a.not(".pj-on-scroll-infini").removeClass("pj-on-scroll"))}))},o=250,d=0,h=Date.now||function(){return(new Date).getTime()},p=function(){d=h(),r=null,s=t.apply(c,l),c=l=null},(u=function(){var a=h();d||(d=a);var e=o-(a-d);return c=this,l=arguments,e<=0||e>o?(r&&(clearTimeout(r),r=null),d=a,s=t.apply(c,l),r||(c=l=null)):r||(r=setTimeout(p,e)),s}).cancel=function(){clearTimeout(r),d=0,r=c=l=null},u);f.on(" resize.pjajax load.pjajax init.pjajax scroll-recheck.pjajax scroll."+a,(function(a){var t=g.clientHeight||f.height(),o=(window.pageYOffset||g.scrollTop)-(g.clientTop||0);"init"==a.type&&$(".pj-on-scroll[data-pjajax]").addClass("pj-scroll-ready"),j(a,t,o)})).trigger("init."+a)}))}("pjajax");"use strict";!function(o){var e,t=null;function n(){var o;if(!0!==e){var n=window.navigator;if(void 0!==n.permissions){e=!0;try{n.permissions.query({name:"geolocation"}).then((function(e){void 0!==e.state?o=e.state:void 0!==e.status&&(o=e.status),window.localStorage.setItem("pjGeolocStatus",o),ys.head.doAction("geolocation-permission",o),t=e.onchange=function(){var e=o;void 0!==this.state?o=this.state:void 0!==this.status&&(o=this.status),"prompt"===e&&e===o&&(o="denied"),ys.head.doAction("geolocation-permission",o,e),window.localStorage.setItem("pjGeolocStatus",o)}})).catch((function(){ys.head.doAction("geolocation-permission",null)}))}catch(o){ys.head.doAction("geolocation-permission",null)}}else{e=!1;var a=n.geolocation?"prompt":"denied";o&&a===o||(window.localStorage.setItem("pjGeolocStatus",a),ys.head.doAction("geolocation-permission",a)),o=a}}}ys.head.addAction("geolocation-permission",(function(e){var t=null!==window.sessionStorage.getItem("pjCurrentPos"),n=null!==window.sessionStorage.getItem("pjGeolocError");!0===t&&"denied"===e?window.sessionStorage.removeItem("pjCurrentPos"):!1===t&&!1===n&&!1===d&&"granted"===e&&ys.head.$doc.pjGetCurrentPosition(),ys.head.doAction(o+"-body-class")}));var a=null;ys.head.addAction(o+"-body-class",(function(){a&&clearTimeout(a),a=setTimeout((function(){a=null;var o=!!ys.head.pjGetCurrentPositionSession(),e=!o,t=document.body;t.classList.toggle("geoloc-accepted",o),o||(e="denied"===window.localStorage.getItem("pjGeolocStatus")),t.classList.toggle("geoloc-ask",!o&&!e),t.classList.toggle("geoloc-denied",!o&&!!e)}))})),window.addEventListener("storage",(function(e){"pjCurrentPos"===e.key&&ys.head.doAction(o+"-body-class")}));var i=0;function s(o){ys.head.xmlUpdates(o);var e=$("popin",o);e.length&&_show(opt,$(e.text()).pjScan(!0)),i&&clearTimeout(i),i=0}function c(o,e,t){e.url=ys.head.urlAddParams(e.url,{error:o,x:null,y:null,accuracy:null}),ys.head.getXml4HtmlUpdates(e,t,s)}var d=!1;function l(e){var t=$(this),a=t,l=!1;this==window||void 0===this?t=a=$(e).pjAPreventDefault(e):(l=!0,this!==window&&t.hasClass("pj-on-click")&&e&&e.preventDefault&&e.preventDefault());var r=t.data(o);r.url||(a=$("[data-"+o+"]:not(.pj-reload)"),r=a.data(o)),d=!0,ys.head.doAction("geolocRunningChange",!0),t.pjGetCurrentPosition((function(o){n(),r.url=ys.head.urlAddParams(r.url,{error:null,accuracy:o.coords.accuracy,x:o.coords.longitude,y:o.coords.latitude,reload:l}),ys.head.getXml4HtmlUpdates(r,a,(function(o){d=!1,ys.head.doAction("geolocRunningChange",!1),s(o),setTimeout((function(){$("#"+a.attr("id")).addClass("loaded")}),100)}))}),(function(e){c(e,a.data(o),a)})),i&&clearTimeout(i),i=setTimeout((function(){c("timeout",r,a)}),3e4)}ys.head.addAction("geolocation",(function(e,n){if(d=!1,ys.head.doAction("geolocRunningChange",!1),ys.head.doAction(o+"-body-class"),"accepte"!==e){if(n){var a=$("[data-"+o+"]:not(.pj-reload)");a.length&&c(e,a.data(o),a)}setTimeout((function(){!function(o){void 0!==o&&"accepte"!==o&&"denied"===window.localStorage.getItem("pjGeolocStatus")||("accepte"!==o&&window.sessionStorage.setItem("pjGeolocError",o),null===t?"refuse"===o&&(window.localStorage.setItem("pjGeolocStatus","denied"),ys.head.doAction("geolocation-permission","denied")):navigator.permissions.query({name:"geolocation"}).then((function(o){t.call(o)})).catch(ys.head.error))}(e)}))}else window.sessionStorage.removeItem("pjGeolocError")})),ys.head.$doc.on("click."+o,".pj-reload[data-"+o+"], .pj-on-click[data-"+o+"]",l),ys.head.onScan("[data-"+o+"]:not(.pj-reload)",(function(){!1===this.classList.contains("pj-on-click")?l(this):null===ys.head.pjGetCurrentPositionSession()&&function(o){if("function"!=typeof o)throw"callback must be a function";var e=function(){ys.head.removeAction(e),o(void 0)};ys.head.addAction("geolocation-permission",e)}((function(o){"granted"===o&&l(this)}))})),n()}("pjajaxgeoloc");!function(t,e){"use strict";if(!("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)){var o=e.documentElement,n=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections()}},r.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},r.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,o){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==o[e-1]}))},r.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this._checkForIntersections(),this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,h(t,"resize",this._checkForIntersections,!0),h(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),o=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var r=n.element,s=a(r),h=this._rootContainsTarget(r),u=n.entry,l=n.entry=new i({time:t.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:o,intersectionRect:e&&h?this._computeTargetAndRootIntersection(r,o):{top:0,bottom:0,left:0,right:0,width:0,height:0}});e&&h?this._hasCrossedThreshold(u,l)&&this._queuedEntries.push(l):u&&c(u.intersectionRect)&&this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(e,o){for(var n,i,r,s,h,u,l,p,d=a(e),f=e.parentNode,g=!1;!g;){var _=null;if(f==this.root||1!=f.nodeType)g=!0,_=o;else"visible"!=t.getComputedStyle(f).overflow&&(_=a(f));if(_&&(n=_,i=d,r=void 0,s=void 0,h=void 0,u=void 0,l=void 0,p=void 0,r=Math.max(n.top,i.top),s=Math.min(n.bottom,i.bottom),h=Math.max(n.left,i.left),u=Math.min(n.right,i.right),p=s-r,!c(d=(l=u-h)<0||p<0?{top:0,bottom:0,left:0,right:0,width:0,height:0}:{top:r,bottom:s,left:h,right:u,width:l,height:p})))break;f=f.parentNode}return d},r.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var o=e.documentElement,n=e.body;t={top:0,left:0,right:o.clientWidth||n.clientWidth,width:o.clientWidth||n.clientWidth,bottom:o.clientHeight||n.clientHeight,height:o.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},r.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,o){return"px"==e.unit?e.value:e.value*(o%2?t.width:t.height)/100})),o={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return o.width=o.right-o.left,o.height=o.bottom-o.top,o},r.prototype._hasCrossedThreshold=function(t,e){var o=t&&c(t.intersectionRect)?t.intersectionRatio||0:-1,n=c(e.intersectionRect)?e.intersectionRatio||0:-1;if(o!==n)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==o||r==n||r<o!=r<n)return!0}},r.prototype._rootIsInDom=function(){return!this.root||o.contains(this.root)},r.prototype._rootContainsTarget=function(t){return(this.root||o).contains(t)},r.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},r.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=r,t.IntersectionObserverEntry=i}function i(t){this.time=t.time,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect,this.target=t.target;var e=this.boundingClientRect,o=e.width*e.height,n=this.intersectionRect,i=n.width*n.height;this.intersectionRatio=o?i/o:0}function r(t,e){var o,n,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(o=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){o(),i=null}),n))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function s(t,e,o,n){"function"==typeof t.addEventListener?t.addEventListener(e,o,n||!1):"function"==typeof t.attachEvent&&t.attachEvent(e,o)}function h(t,e,o,n){"function"==typeof t.removeEventListener?t.addEventListener(e,o,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent(e,o)}function c(t){return t.top>0||t.bottom>0||t.left>0||t.right>0}function a(t){var e=t.getBoundingClientRect();if(e)return e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e}}(window,document);